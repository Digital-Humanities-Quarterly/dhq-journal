<?xml version="1.0" encoding="UTF-8"?>
<build>
  <!--
      Definitions for the Ant properties used in build.xml . When referenced, 
      properties look like this:
        ${toDir.base}
      For more information, see https://ant.apache.org/manual/Tasks/xmlproperty.html
    -->
  
  
  <!-- This directory inside dhq-static will hold the static site's individual files
    (but not the compressed site). -->
  <context>dhq</context>
  
  <!-- A regular expression mapping individual HTML pages in the repository to their 
    static site equivalents. You can add directories to the first group, or adjust 
    the file extensions in the second group. Note, however, that any file matched by 
    this regex will be transformed with XSLT, and so, should be XHTML. -->
  <staticPages>
    <from>^(about|contact|explore|news|people|submissions)/(.+\.html)</from>
    <to>\1/\2</to>
  </staticPages>
  
  <toDir>
    <!-- The base directory for storing static site content. The directory will be 
      placed at the same level as the git repository. -->
    <base>dhq-static</base>
    
    <!-- Within ${toDir.base}, the name of the directory which should be used to 
      store the publication-ready version of the DHQ site. This should be the same 
      value as ${context}. -->
    <static>dhq</static>
    
    <!-- Within ${toDir.base}, the name of the directory which should be used to 
      store the proofing-only version of DHQ. -->
    <proofing>dhq-proofing</proofing>
  </toDir>
  
  <!-- The directory in which HTML articles are saved for previewing. Note that if 
    you change this value, you may also have to change the "assets-path" parameter 
    value in build.xml's "previewArticle" target, and/or add a new value to the 
    repository .gitignore file. -->
  <previewDir>dhq-preview</previewDir>
  
  <!-- The XSLT processor to use. -->
  <processor>
    <name>net.sf.saxon.BasicTransformerFactory</name>
    <location>common/lib/saxon</location>
    <jarFile>saxon-he-12.4.jar</jarFile>
  </processor>

  <uvepssDir>common/lib/staticSearch</uvepssDir>

  <!-- Paths to schemas and programs -->
  <!-- Those marked “[1]” are currently just hard-coded to where these
       things are on Syd’s machine. An exercise for the near future
       will be to do this right, whether looking for them or putting
       them in our lib/ dir. —Syd, 2024-02-14 -->
  <schemaDir>./common/schema</schemaDir>
  <closedSchema>./common/schema/DHQauthor-TEI.rng</closedSchema>
  <openSchema1>DHQauthor-TEI.isosch</openSchema1>
  <openSchema2>dhqTEI-ready.sch</openSchema2>
  <openSchema>./common/schema/dhqTEI-ready.sch ./common/schema/DHQauthor-TEI.isosch</openSchema>
  <jingJar>/opt/Oxygen_XML_Editor_28/lib/oxygen-patched-jing.jar</jingJar> <!--[1]-->
  <mausatronXSLT>
    <compiler>/home/syd/Documents/schxslt/core/src/main/resources/xslt/2.0/pipeline-for-svrl.xsl</compiler> <!--[1]-->
  </mausatronXSLT>

<!--
      List of files that match "./0*/0*.xml", and thus would normally
      be included in set of files from articles/ to be validated, but
      should be excluded. In particular, we need to exclude files that
      are not well-formed XML because they will stop the validation
      process (i.e., only files listed before an ill-formed file get
      validated, the rest get ignored).
  -->
  <excludeFromValidation/>
  <!--
      This mechanism is for temporarily working around a few
      ill-formed files. When this occurts, post to #production_general
      and ask whoever is working on that file to fix it.
  -->

</build>
