<?xml version="1.0" encoding="UTF-8"?>
<!-- University of Victory Endings Project Static Site configuration -->
<!-- See, e.g., https://endings.uvic.ca/staticSearch/docs/howDoIUseIt.html -->
<config xmlns="http://hcmc.uvic.ca/ns/staticSearch" version="1">
  <params>
    <searchFile>../../vol/search.html</searchFile>
    <recurse>true</recurse>
    <stopwordsFile>stopwords_en.txt</stopwordsFile>
    <dictionaryFile>words_en.txt</dictionaryFile>
    <!-- above required; below optional -->
    <maxKwicsToHarvest>12</maxKwicsToHarvest>
    <maxKwicsToShow>12</maxKwicsToShow>
    <versionFile>version.txt</versionFile>
    <createContexts>true</createContexts>
    <phrasalSearch>true</phrasalSearch>
    <scoringAlgorithm>tf-idf</scoringAlgorithm>
    <totalKwicLength>11</totalKwicLength>
    <kwicTruncateString>…</kwicTruncateString>
    <verbose>false</verbose> 	<!-- comment out for sydb_uvepss_02, but must leave uncommented for 1.4.5;  turn on for debugging index process -->
    <indentJSON>false</indentJSON> <!-- turn on for debugging -->
    <outputFolder>uvepss</outputFolder>
  </params>
  <rules>
    <rule match="/html/body//text()[not( ancestor::div[@id eq 'mainContent'] )]" weight="0"/>
  </rules>
  <contexts>
    <context label="headings" match="h1 | h2 | h3 | h4 | h5 | h6"/>
    <context label="abstracts" match="div[ @id eq 'abstract']"/>
    <context label="captions" match="div[ @class eq 'caption']"/>
    <context label="&#xA0;captions" match="duck[ @type eq 'quack']"/> <!--debug-->
    <context label="notes" match="div[ @id eq 'notes']"/>
    <context label="works cited" match="div[ @id eq 'worksCited']"/>
    <!--
	List of IANA language tags generated by:
	1. Generating an XML file of all registerted language tags
           using data/uvepss/IANA_semantic_to_contexts.xslt.
	2. Generating a list of all language tags used in DHQ articles
	   i.e., extracting the XPath
	   //@xml:lang[ normalize-space(.) ne '']!distinct-values()
	   (untested).
	3. For each @xml:lang, if it is in the registry file return
	   the description or descriptions; if not return null.
	4. Take the descriptions and insert them into the @label
	   attributes and the languages into the @match attributes
	   of the <context>.
	5. Inset the <context>s so generated into this <contexts>.
        The following does steps 2–4 at one shot on Syd’s machine,
	presuming the registry is in its default location,
	/tmp/IANA_language_subtag_registry_semantic.xml:
	$ for l in $(xsel -t -m "//@xml:lang[not(normalize-space(.)='')]" -v "." -n articles/0*/0*.xml 2>/dev/null | sort | uniq); do echo "=========$l:" ; xsel -t -m "/*/language[@subtag='$l']" -o '    <context label="language: ' -v "description[1]" -i "description[2]" -o " or " -v "description[2]" -b -o "&quot; match=&quot;text()[ lang('$l') ]&quot;/>" -n /tmp/IANA_language_subtag_registry_semantic.xml ; done | perl -pe 's,&lt;,<,g; s,&gt;,>,g; s,&amp;quot;,",g;'
    -->
    <context label="language: Amharic" match="*[ lang('am') ]"/>
    <context label="language: Arabic" match="*[ lang('ar') ]"/>
    <context label="language: Catalan or Valencian" match="*[ lang('ca') ]"/>
    <context label="language: Plains Cree" match="*[ lang('crk') ]"/>
    <context label="language: German" match="*[ lang('de') ]"/>
    <context label="language: Modern Greek (1453-)" match="*[ lang('el') ]"/>
    <context label="language: English" match="*[ lang('en') ]"/>
    <context label="language: Spanish or Castilian" match="*[ lang('es') ]"/>
    <context label="language: Finnish" match="*[ lang('fi') ]"/>
    <context label="language: Firan" match="*[ lang('fir') ]"/>
    <context label="language: French" match="*[ lang('fr') ]"/>
    <context label="language: Ancient Greek (to 1453)" match="*[ lang('grc') ]"/>
    <context label="language: Hawaiian" match="*[ lang('haw') ]"/>
    <context label="language: Indonesian" match="*[ lang('in') ]"/>
    <context label="language: Italian" match="*[ lang('it') ]"/>
    <context label="language: Hebrew" match="*[ lang('iw') ]"/>
    <context label="language: Japanese" match="*[ lang('ja') ]"/>
    <context label="language: Korean" match="*[ lang('ko') ]"/>
    <context label="language: Latin" match="*[ lang('la') ]"/>
    <context label="language: Mayan languages" match="*[ lang('myn') ]"/>
    <context label="language: Neapolitan" match="*[ lang('nap') ]"/>
    <context label="language: Dutch or Flemish" match="*[ lang('nl') ]"/>
    <context label="language: Portuguese" match="*[ lang('pt') ]"/>
    <context label="language: Russian" match="*[ lang('ru') ]"/>
    <context label="language: Sanskrit" match="*[ lang('sa') ]"/>
    <context label="language: Swedish" match="*[ lang('sv') ]"/>
    <context label="language: Yiddish" match="*[ lang('yi') ]"/>
    <context label="language: Chinese" match="*[ lang('zh') ]"/>
  </contexts>
</config>
