<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="../../common/schema/DHQauthor-TEI.rng" type="xml"?>
<?oxygen SCHSchema="../../common/schema/dhqTEI-ready.sch"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0"
     xmlns:cc="http://web.resource.org/cc/"
     xmlns:dhq="http://www.digitalhumanities.org/ns/dhq"
     xmlns:mml="http://www.w3.org/1998/Math/MathML"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
   <teiHeader>
      <fileDesc>
         <titleStmt><!--Author should supply the title and personal information-->
            <title type="article" xml:lang="en">SEDES: Metrical Position in Greek Hexameter</title>
            <!--Add a <title> with appropriate @xml:lang for articles in languages other than English-->
            <dhq:authorInfo><!--Include a separate <dhq:authorInfo> element for each author-->
               <dhq:author_name>Stephen A. <dhq:family>Sansom</dhq:family>
               </dhq:author_name>
               <idno type="ORCID">https://orcid.org/0000-0003-0583-1906</idno>
               <dhq:affiliation>Florida State University</dhq:affiliation>
               <email>sasansom@fsu.edu</email>
               <dhq:bio>
                  <p>Stephen A. Sansom is a Hellenist who specializes in early Greek poetry, especially epic, aesthetics, and digital humanities. He is an Assistant Professor of Classics at Florida State University.</p>
               </dhq:bio>
            </dhq:authorInfo>
            <dhq:authorInfo>
            <dhq:author_name>David <dhq:family>Fifield</dhq:family>
            </dhq:author_name>
            <dhq:affiliation>Independent Scholar</dhq:affiliation>
            <email>david@bamsoftware.com</email>
            <dhq:bio>
               <p>David Fifield is a computer scientist. He received an MS degree from Stanford University and a PhD from the University of California Berkeley. He is a maintainer of the SEDES system for analyzing metrical features in Greek hexameter.</p>
            </dhq:bio>
            </dhq:authorInfo>
         </titleStmt>
         <publicationStmt>
            <publisher>Alliance of Digital Humanities Organizations</publisher>
            <publisher>Association for Computers and the Humanities</publisher>
            <!--This information will be completed at publication-->
            <idno type="DHQarticle-id">000675<!--including leading zeroes: e.g. 000110--></idno>
            <idno type="volume"><!--volume number, with leading zeroes as needed to make 3 digits: e.g. 006--></idno>
            <idno type="issue"><!--issue number, without leading zeroes: e.g. 2--></idno>
            <date/>
            <dhq:articleType>article</dhq:articleType>
            <availability status="CC-BY-ND"><!--If using a different license from the default, choose one of the following:
                  CC-BY-ND (DHQ default):        
                  CC-BY:    
                  CC0:  -->
               <cc:License rdf:about="http://creativecommons.org/licenses/by-nd/2.5/"/>
            </availability>
         </publicationStmt>
         <sourceDesc>
            <p>This is the source</p>
         </sourceDesc>
      </fileDesc>
      <encodingDesc>
         <classDecl>
            <taxonomy xml:id="dhq_keywords">
               <bibl>DHQ classification scheme; full list available at <ref target="http://www.digitalhumanities.org/dhq/taxonomy.xml">http://www.digitalhumanities.org/dhq/taxonomy.xml</ref>
               </bibl>
            </taxonomy>
            <taxonomy xml:id="authorial_keywords">
               <bibl>Keywords supplied by author; no controlled vocabulary</bibl>
            </taxonomy>
            <taxonomy xml:id="project_keywords">
               <bibl>DHQ project registry; full list available at <ref target="http://www.digitalhumanities.org/dhq/projects.xml">http://www.digitalhumanities.org/dhq/projects.xml</ref>
               </bibl>
            </taxonomy>
         </classDecl>
      </encodingDesc>
      <profileDesc>
         <langUsage>
            <language ident="en" extent="original"/>
            <!--add <language> with appropriate @ident for any additional languages-->
         </langUsage>
         <textClass>
            <keywords scheme="#dhq_keywords"><!--Authors may suggest one or more keywords from the DHQ keyword list, visible at http://www.digitalhumanities.org/dhq/taxonomy.xml; these may be supplemented or modified by DHQ editors-->
               <list type="simple">
                  <item/>
               </list>
            </keywords>
            <keywords scheme="#authorial_keywords"><!--Authors may include one or more keywords of their choice-->
               <list type="simple">
                  <item/>
               </list>
            </keywords>
            <keywords scheme="#project_keywords">
               <list type="simple">
                  <item/>
               </list>
            </keywords>
         </textClass>
      </profileDesc>
      <revisionDesc>
         <change>The version history for this file can be found on <ref target="https://github.com/Digital-Humanities-Quarterly/dhq-journal/commits/master/articles/NNNNNN/NNNNNN.xml">GitHub
        	   </ref>
         </change>
      </revisionDesc>
   </teiHeader>
   <text xml:lang="en" type="original">
      <front>
         <dhq:abstract><!--Include a brief abstract of the article-->
            <p>This article outlines the processes of SEDES, a program that automatically identifies, quantifies, and visualizes the metrical position of lemmata in ancient Greek hexameter poetry; and gives examples of its application to investigate the effects of metrical position on poetic features such as formularity, expectancy, and intertextuality.</p>
         </dhq:abstract>
         <dhq:teaser><!--Include a brief teaser, no more than a phrase or a single sentence-->
            <p>Introduction to SEDES, a program that automatically identifies, quantifies, and visualizes the metrical position of lemmata in ancient Greek hexameter poetry.</p>
         </dhq:teaser>
      </front>
      <body>
         <div>
            
               <head>Introduction</head>
               
               
            
            <p>Metrical position has long interested scholars of Greek hexameter poetry. In his <title rend="italic" xml:lang="grc">Encheiridion dia Metrôn</title> (<title rend="quotes">Handbook on Meter</title>), Hephaestion of Alexandria (2nd c. CE) referred to positions within meter as <foreign xml:lang="grc">χώραι</foreign> (<quote rend="inline">places; positions,</quote> cf. <title rend="italic">LSJ</title> s.v. <foreign xml:lang="grc">χώρα</foreign> 3) and used the term to describe places in the line that contain various types of metrical <quote rend="inline">feet</quote> (<foreign xml:lang="grc">πόδες</foreign>, cf. <ptr target="#lsj"/> s.v. <foreign xml:lang="grc">πούς</foreign> 4), such as the dactyl (‒ ⏑ ⏑) and spondee (‒ ‒), as well as the <quote rend="inline">final</quote> (<foreign xml:lang="grc">τῆς τελευταίας</foreign>, 7.1) position that may contain syllabic diversity, such as catalexis.<note><ptr target="#vanophuijsen1987" loc="66"/>: <quote rend="inline">in Hephaestion (<foreign>χώραι</foreign>) are places for feet;</quote> <quote rend="inline">it seems most correct to say that a metron as it is actually found, a specimen, contains feet, while a metron as a species contains a definite number of places for feet…</quote> (17). For Hephaestion’s <emph><foreign xml:lang="fr">oeuvre</foreign></emph>, see Suda η 659 <ptr target="#heath2001"/>, <ptr target="#westphal1866"/>.</note> Aristides Quintilianus (circa 4th c. CE) likewise used <foreign xml:lang="grc">χώρα</foreign> to describe metrical position in his <title rend="italic" xml:lang="grc">Peri Musikês</title> (<title rend="quotes">On Music</title>), including the <quote rend="inline">first places</quote> (<foreign xml:lang="grc">ταῖς πρώταις χώραις</foreign>, 1.24.27) of feet in the line (cf. <ptr target="#vanophuijsen1987" loc="82"/> <ptr target="#winnington1963"/>). But it was not until the early 20th century that scholars interested in the statistical analysis of meter systematized notation for all possible positions of linguistic phenomena in the hexameter line; of these efforts, <ptr target="#oneill1942"/> has gained the most currency.<note> For competing notations, see <ptr target="#janse2003"/>, cf. <ptr target="#bozzone2014"/>.</note> Later, <ptr target="#giangrande1959"/> and others Latinized the <term style="italic" xml:lang="la">terminus technicus</term> from <foreign xml:lang="grc">χώρα</foreign> to <emph><foreign xml:lang="grc">sedes</foreign></emph> (<quote rend="inline">seat; place</quote>), and now the term is ubiquitous in philological studies of metrical position.</p>
            <p>With this greater precision, scholars have examined various forms of repetition in hexameter according to their metrical position. These studies largely focus on articulating metrical tendencies, such as colometric patterns <ptr target="#porter1951"/>, <ptr target="#barnes1986"/> and the primacy of <emph><foreign xml:lang="grc">caesurae</foreign></emph>  (<foreign xml:lang="grc">τομαί</foreign>) at certain <emph><foreign xml:lang="grc">sedes</foreign></emph> <ptr target="#frankel1926"/>, <ptr target="#beekes1972"/>.
               <note>
                  <emph><foreign xml:lang="grc">Caesura</foreign></emph>  (<quote rend="inline">cutting</quote>), as in a pause or word break in a verse, with <foreign xml:lang="grc">τομή</foreign> as the Greek equivalent (cf. <title rend="italic">LSJ</title>  s.v. <foreign xml:lang="grc">τομή</foreign> IV.2).
               </note>
               In particular, <ptr target="#oneill1942"/> discovered what he called the <quote rend="inline">localization</quote> of <quote rend="inline">word-types,</quote> that is, the <quote rend="inline">concentration of occurrences (of specific metrical shapes) in but a few of the possible positions</quote> (114). Following O’Neill, <ptr target="#porter1951"/> argued that such tendencies established <quote rend="inline">patterns of expectancy</quote> or norms in the mind of poet and audience, and philologists have begun to explore the potential intertextual, stylistic, cognitive, and literary effects of these patterns, for example, in <ptr target="#giangrande1967"/>, <ptr target="#white1986"/>, <ptr target="#hagel1994"/>, <ptr target="#kahane1994"/>, <ptr target="#martin2000"/>, <ptr target="#forstall2012"/>, <ptr target="#schein2015" loc="93–116"/>, and <ptr target="#forstall2019"/>.
               <note> For localization of word-types in iambic trimeter, see <ptr target="#dik1998"/> and <ptr target="#schein1979"/>.</note>
               </p>
            <p>These studies have provided useful data and promising applications, but their potential has been somewhat constrained by limitations in scope, objects of analysis, and at times computational media. O’Neill treated only a relatively small number of lines, though his survey has been expanded and the data verified by <ptr target="#porter1951"/>, <ptr target="#mcdonough1966"/>, <ptr target="#hagel2004"/>, and <ptr target="#forstall2012"/>. A lack of aggregate statistics on repeated words by <term><foreign xml:lang="grc">sedes</foreign></term>  has restricted intertextual readings to the examination of infrequent words, <term><foreign xml:lang="grc">hapax</foreign></term>, or <term><foreign xml:lang="grc">dis legomena</foreign></term>, for example in <ptr target="#mclennan1977"/>.
               <note> Cf. <ptr target="#sansom2021" loc="449–450"/>.</note>  
               
               Even inquiries into anomalous behavior such as breaks in Hermann’s Bridge (that is, avoidance of word end between the biceps [two short elements] of the fourth foot <ptr target="#martin2000"/>, <ptr target="#schein2015"/>) have been confined to a few authors or passages, due to a lack of available data. Existing digital tools for identifying repetitions in hexameter poetry — for example, the Thesaurus Linguae Graecae <ptr target="#tlg"/> or Perseus Project under PhiloLogic <ptr target="#philologic"/>, for searching corpora by word list, lemma, or text string; the <ptr target="#chicagohomer"/>, for repeated phrases; and <ptr target="#tesserae"/>, for intertexts by <term>n</term>‑gram matching <ptr target="#forstall2015"/> — do not take into account metrical position. Future work on metrical position in Greek hexameter needs new methods and access to data in order to identify repetitive phenomena in meter more accurately and completely.
               <note> Other digital analyses of metrical Greek language focus more exclusively on natural language processing, such as the Classical Language Tool Kit <ptr target="#cltk"/>; or grammatico-semantic corpus linguistics, such as The Ancient Greek and Latin Dependency Treebank <ptr target="#agdt"/>, the Homeric Dependency Lexicon <ptr target="#hodel"/> (cf. <ptr target="#zanchi2021"/>), and Ancient Greek WordNet <ptr target="#agwn"/>.</note>
               With such information, scholars can then better discern their linguistic causes and potential poetic effects.</p>
            <p>In this article, we introduce SEDES, a software system for identifying, quantifying, and visualizing metrical position in ancient Greek hexameter poetry. Like intertextualist studies of metrical position, SEDES at present focuses on the repetition of words — more specifically, of lemmata. Our present purpose is to describe the design of the SEDES system and demonstrate a sample of its utility.
               <note> For additional theorization and application of SEDES to close reading and intertextuality, see <ptr target="#sansom2021"/>.</note> 
               Engineering the system required bringing together existing resources in the processing of Greek poetry, as well as the creation of new processes, measurements, tests, and visualizations, all of which aid researchers of Greek literature and otherwise in the processing of poetic texts for computer and literary analysis and, more generally, provide a method that benefits the quantitative analysis of repetitive language in meter. In what follows, we show how SEDES generates these data, before giving examples of its application to Greek hexameter poetics, in particular the fields of oral formularity and intertextuality.</p>
            </div>
         
            <div>
               <head>Processing Pipeline</head>
               <p>The core function of SEDES is to assign a numeric value — an expectancy score — to every word in a work of verse. The expectancy of a word is a quantification, in a sense we will define later, of how frequently that word’s lemma appears at a given <term>sedes</term> in a corpus of works. After computing expectancy scores, SEDES provides ways of visualizing and interacting with them. The SEDES system is composed of a pipeline of programs, each of which performs a portion of the processing task. See Figure 1.</p>
            
                  <figure>
                     <head>The SEDES processing pipeline comprises three programs: tei2csv, expectancy, and tei2html. Visualizing a text requires analyzing not only it, but all other texts of the corpus.</head>
                     <graphic url="resources/images/figure01.png"/>
                     <figDesc>Schematic diagram of information flow through the programs of SEDES</figDesc>
                  </figure>
               
               <p>The input to the pipeline is a set of XML documents marked up according to the TEI Guidelines <ptr target="#tei"/>. The selection of documents defines the <term xml:lang="la">corpus</term> relative to which expectancy scores are computed. In developing SEDES, we have used 12 TEI texts from the Perseus Project <ptr target="#perseus"/>, totaling about 73,000 lines, with a minimum length of 479 lines and a maximum of 21,356. See Table 1 for a listing of texts, which span more than a millennium and comprise a variety of styles. We often define the corpus as all 12 works, but the system makes it possible to work with only a subset, in order to include or exclude certain authors or eras, for example.</p>
               
               <table>
                  <head>Works in the full SEDES corpus.</head>
                  <row role="data">
                     <cell>Work</cell>
                     <cell>Date (circa c.)</cell>
                     <cell>Lines</cell>
                     <cell>Words</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0133">Iliad</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0133">Homer</ref>
                     </cell>
                     <cell>8th BCE</cell>
                     <cell>15,683</cell>
                     <cell>111,865</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0135">Odyssey</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0135">Homer</ref>
                     </cell>
                     <cell>8th BCE</cell>
                     <cell>12,107</cell>
                     <cell>87,185</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0137">Homeric Hymns</ref>
                     </cell>
                     <cell>7th–6th BCE</cell>
                     <cell>2,342</cell>
                     <cell>16,022</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0129">Theogony</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0129">Hesiod</ref>
                     </cell>
                     <cell>8th BCE</cell>
                     <cell>1,042</cell>
                     <cell>7,040</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0131">Works and Days</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0131">Hesiod</ref>
                     </cell>
                     <cell>8th BCE</cell>
                     <cell>831</cell>
                     <cell>5,856</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0127">Shield of Heracles</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0127">Hesiod</ref>
                     </cell>
                     <cell>6th BCE</cell>
                     <cell>479</cell>
                     <cell>3,298</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0227">Argonautica</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0227">Apollonius Rhodius</ref>
                     </cell>
                     <cell>4th BCE</cell>
                     <cell>5,834</cell>
                     <cell>38,841</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0481">Hymns</ref>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0481">, Callimachus</ref>
                     </cell>
                     <cell>3rd BCE</cell>
                     <cell>941</cell>
                     <cell>6,480</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0483">Phaenomena</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0483">Aratus Solensis</ref>
                     </cell>
                     <cell>3rd BCE</cell>
                     <cell>1,155</cell>
                     <cell>7,752</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0228">Idylls</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0228">Theocritus</ref>
                     </cell>
                     <cell>3rd BCE</cell>
                     <cell>2,527</cell>
                     <cell>18,071</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0490">Fall of Troy</ref>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0490">, Quintus Smyrnaeus</ref>
                     </cell>
                     <cell>4th CE</cell>
                     <cell>8,801</cell>
                     <cell>60,098</cell>
                  </row>
                  <row role="data">
                     <cell>
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0485">Dionysiaca</ref>, 
                        <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:2008.01.0485">Nonnus of Panopolis</ref>
                     </cell>
                     <cell>5th CE</cell>
                     <cell>21,356</cell>
                     <cell>126,870</cell>
                  </row>
                  <row role="data">
                     <cell>Total</cell>
                     <cell/>
                     <cell>73,098</cell>
                     <cell>489,378</cell>
                  </row>
               </table>
               
               <p>Though similar techniques could be applied to other forms of verse, SEDES is specially adapted to hexameter. In hexameter, vowels are distinguished by length. A line consists of six feet, which each may be either a long syllable followed by another long syllable (a spondee, denoted <q>– –</q>), or a long syllable followed by two short syllables (a dactyl, <q>– ⏑ ⏑</q>). The metrical shape of a word — its pattern of long and short syllables — limits the places (<term>sedes</term>) in a line it may appear. (Though there is some flexibility: a word may, subject to certain rules, sometimes be reinterpreted to have a different metrical shape than it would otherwise have, in order to fit the meter.) Even given the range of permissible <q>slots</q> for each word, most words tend to appear at some <term>sedes</term> more often than others. It is this non-uniform distribution of word placements that SEDES is designed to analyze.</p>
               <p>The first program in the SEDES pipeline, tei2csv, assigns a lemma and a <term>sedes</term>  to every word in the corpus. (We consider multiple instances of the same word separately — the same word in different lines may appear at different <term>sedes</term>, for example.) Later parts of the pipeline will operate, not on the original words of the text directly, but on the <quote rend="inline">lemma–<term>sedes</term> pairs</quote> to which they are mapped by tei2csv. Concretely, tei2csv  does the following three steps of segmentation, lemmatization, and scansion for every document in the corpus:</p>
               
               <list type="simple">
                  <item>1. Break the document into lines and words.</item>
                  <item>2. Look up a lemma for each word.</item>
                  <item>3. Scan every line metrically, thereby finding a <term>sedes</term> for each word.</item>
               </list>
               <p>The output of tei2csv is a collection of CSV files, one for each TEI file in the corpus. The CSV files map every instance of every word in the corpus to the lemma and <term>sedes</term> of that instance, what we call a lemma–<term>sedes</term> pair. The next program in the pipeline, called expectancy, takes these CSV files as input and does the statistics necessary to compute expectancy scores:</p>
               
               <list type="simple">
                  <item>4. Compute an expectancy score for every unique lemma–<term>sedes</term> pair.</item>
               </list>
               
               <p>The output of the expectancy program is another CSV file that maps every observed combination of lemma and <term>sedes</term> to a numeric expectancy score. The final program in the pipeline, tei2html, takes as input the expectancy CSV file and the TEI of any single work — which may or may not be part of the corpus that was used to define expectancy — and produces an output visualization of the work:</p>
               
               <list type="simple">
                  <item>5. Produce an HTML file that depicts differences in expectancy across words.</item>
               </list>
               
               <p>We will describe the above steps in detail in the subsections that follow. But first, we will walk through an example of applying the SEDES processing pipeline to book 1, line 1 of the <title rend="italic">Odyssey</title> <ptr target="#perseusodyssey"/> from start to finish.</p>
               
               <p>In the source TEI file, the line looks like this:
                  <note> The Perseus project is undergoing a transition to<ref target="https://scaife.perseus.org/about/">Perseus version 5.0</ref>, in which, among other changes, TEI texts contain Unicode, rather than Beta Code. At this point, SEDES sources texts from <ref target="https://www.perseus.tufts.edu/hopper/">Perseus 4.0</ref>(Perseus Hopper), which require a preliminary step to decode Beta Code.</note>
               </p>
               
               <eg lang="xml"><![CDATA[
                   <l>a)/ndra moi e)/nnepe, mou=sa, polu/tropon, o(\s ma/la polla\</l>
                     ]]></eg>
               
               <p>The &lt;l&gt;  and &lt;/l&gt; XML tags delimit a line. The text between the tags is Beta Code <ptr target="#tlgbetacode"/>, a method of representing written ancient Greek using ASCII characters: <q>a</q> represents the letter alpha; <q>)</q>, <q>/</q>, <q>\</q>, and <q>=</q> are various diacritics; and so on. The tei2csv  program isolates the line from the XML markup and decodes the Beta Code to yield a line of verse represented in Unicode:</p>
               
                  <eg lang="nohighlight"><![CDATA[
                     ἄνδρα μοι ἔννεπε, μοῦσα, πολύτροπον, ὃς μάλα πολλὰ
                     ]]></eg>
               
                  <p>(<quote rend="inline">Tell me, Muse, about the versatile man, who very many…</quote>) The program then scans the line metrically, marking each syllable as long (notated <q>–</q>) or short (notated <q>⏑</q>). A long syllable counts for 1 position and a short syllable counts for 0.5. The scansion of the example line is:</p>
               
                             
              
                  <eg lang="nohighlight"><![CDATA[
                     ἄν δρα   μοι  ἔν νε πε,  μοῦ σα,  πο λύ τρο πον,  ὃς   μά λα   πο λλὰ
                     –  ⏑      ⏑   –  ⏑  ⏑    –  ⏑    ⏑  –  ⏑  ⏑     –   ⏑  ⏑    –  –
                     1  2     2.5  3 4 4.5   5  6   6.5 7  8 8.5    9  10 10.5  11 12
                     ]]>                   

                  </eg>
                
               
               
               
               <p>The <term>sedes</term> of a word is the <term>sedes</term> of its first syllable. In this example, <foreign xml:lang="grc">ἄνδρα</foreign> is at <term>sedes</term> 1, <foreign xml:lang="grc">μοι</foreign> is at <term>sedes</term> 2.5, and so on. Separately from scansion, every word in the line is mapped to its lemma. Here, the word <foreign xml:lang="grc">ἄνδρα</foreign> maps to the lemma <foreign xml:lang="grc">ἀνήρ</foreign>, <foreign xml:lang="grc">μοι</foreign> maps to <foreign xml:lang="grc">ἐγώ</foreign>, and so on for the rest of the words. The output of this process is a lemma and a <term>sedes</term> for each word: a lemma–<term>sedes</term> pair. The calculation of <term>sedes</term> and the finding of a lemma are independent operations: it is the syllables of the original words of the line, not their derived lemmata, that determine <term>sedes</term>.</p>
               <p>The tei2csv program emits a CSV file with one row per input word, representing the word’s lemma, <term>sedes</term>, and other metadata.</p>
               
               <table>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">work</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">book_n</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">line_n</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">word_n</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">word</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">lemma</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">sedes</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">metrical_shape</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">scanned</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">num_scansions</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">line_text</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell><foreign xml:lang="grc">ἄνδρα</foreign>,</cell>
                     <cell><foreign xml:lang="grc">ἀνήρ</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">–⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2,</cell>
                     <cell><foreign xml:lang="grc">μοι</foreign>,</cell>
                     <cell><foreign xml:lang="grc">ἐγώ</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2.5,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">3,</cell>
                     <cell><foreign xml:lang="grc">ἔννεπε</foreign>,</cell>
                     <cell><foreign xml:lang="grc">ἐνέπω</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">3,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">–⏑⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">4,</cell>
                     <cell><foreign xml:lang="grc">μοῦσα</foreign>,</cell>
                     <cell><foreign xml:lang="grc">μοῦσα</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">5,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">–⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">5,</cell>
                     <cell><foreign xml:lang="grc">πολύτροπον</foreign>,</cell>
                     <cell><foreign xml:lang="grc">πολύτροπος</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">6.5,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">⏑–⏑⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">6,</cell>
                     <cell><foreign xml:lang="grc">ὃς</foreign>,</cell>
                     <cell><foreign xml:lang="grc">ὅς</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">9,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">–,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">7,</cell>
                     <cell><foreign xml:lang="grc">μάλα</foreign>,</cell>
                     <cell><foreign xml:lang="grc">μάλα</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">10,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">⏑⏑,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">Od.,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">8,</cell>
                     <cell><foreign xml:lang="grc">πολλὰ</foreign>,</cell>
                     <cell><foreign xml:lang="grc">πολύς</foreign>,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">11,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">––,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">auto,</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell>"<foreign xml:lang="grc">ἄνδρα μοι</foreign>..."</cell>
                  </row>
               </table>
                  
               <p>Expectancy is a function of lemma and <term>sedes</term> jointly: it measures, for each lemma, how that lemma is distributed over the possible <term>sedes</term>, in the context of the overall corpus. Having run tei2csv on the <title rend="italic">Odyssey</title>, we run it again on the other works of the corpus to obtain the necessary context, in the form of a collection of CSV files that give a lemma and a <term>sedes</term> for every word. The expectancy program takes all these files as input, analyzes the statistical distribution of <term>sedes</term> for each lemma, and outputs another CSV file that maps lemma–<term>sedes</term> pairs to their expectancy scores, using mathematical formulas we will define below. An excerpt of the output of the expectancy program is shown below. The x column counts the number of occurrences of a lemma–<term>sedes</term> pair throughout the corpus, and z shows the expectancy of that pair. From this sample output, we see that the expectancy of the lemma <foreign xml:lang="grc">ἀνήρ</foreign> (<q>man</q>) at <term>sedes</term> 1 is +1.11, that of <foreign xml:lang="grc">ἐγώ</foreign> (<q>I</q>) at <term>sedes</term> 2 is −0.13, and so on.</p>
               <table>
                  <row role="data">
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">lemma</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">sedes</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">x</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">z</cell>
                  </row>
                  <row role="data">
                     <cell cols="4" style="font-family: 'Lucida Console', 'Courier New', monospace;">[...]</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἀνήρ</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">452</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">+1.1089031679816</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἀνήρ</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">35</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">−1.60788923391802</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἀνήρ</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2.5</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">100</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">−1.18440840388571</cell>
                  </row>
                  <row role="data">
                     <cell cols="4" style="font-family: 'Lucida Console', 'Courier New', monospace;">[...]</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἐγώ</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">430</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">−0.132108322471802</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἐγώ</foreign>,  ,  , </cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">2.5</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">1027</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">+1.79559085302027</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἐγώ</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">3</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">457</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">−0.0449259477008033</cell>
                  </row>
                  <row role="data">
                     <cell cols="4" style="font-family: 'Lucida Console', 'Courier New', monospace;">[...]</cell>
                  </row>
                  <row role="data">
                     <cell><foreign xml:lang="grc">ἐνέπω</foreign></cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">3</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">8</cell>
                     <cell style="font-family: 'Lucida Console', 'Courier New', monospace;">−1.32295427519852</cell>
                  </row>
                  <row role="data">
                     <cell cols="4" style="font-family: 'Lucida Console', 'Courier New', monospace;">[...]</cell>
                  </row>
               </table>
               
               <p>Finally, the tei2html  program takes as input the TEI file of the <title rend="italic">Odyssey</title>  along with the expectancy CSV file. tei2html  renders a human-readable HTML representation of the text, optionally highlighting each word according to its expectancy. One visualization style is shown below, with words shaded according to their expectancy: low expectancy is dark and high expectancy is light. Other styles will be explored in the section on visualization.</p>
               
               <p xml:lang="grc"><hi style="color:#d5d5d5;">ἄνδρα</hi> <hi style="color:#dfdfdf;">μοι</hi> <hi style="color:#575757;">ἔννεπε</hi>, <hi style="color:#6e6e6e;">μοῦσα</hi>, <hi style="color:#a9a9a9;">πολύτροπον</hi>, <hi style="color:#c5c5c5;">ὃς</hi> <hi style="color:#515151;">μάλα</hi> <hi style="color:#989898;">πολλὰ</hi></p>
               
               <p>The programs that constitute SEDES are written in Python 3. Running SEDES from start to finish on every work in our corpus (12 TEI files, 73,000 lines, and 490,000 words) on a 2019 MacBook Pro takes about one minute. About 45% of the time is spent on segmentation, lemmatization, and scansion; 9% on expectancy computation; and 46% on generating visualization output.</p>
            </div>
               <div>
                  <head>Segmentation into Lines and Words</head>
                  
                  <p>Scansion is an operation on individual lines, and lemmatization is an operation on individual words. SEDES begins by breaking a TEI document into lines, and its lines into words.</p>
                  
                  <p>Segmentation into lines is fairly straightforward. Lines are delimited by either the l  element, which encloses lines; or the lb  element, which separates them:
                     <note>
                        <ref target="https://tei-c.org/release/doc/tei-p5-doc/en/html/ref-l.html">TEI element l (verse line)</ref>, <ref target="https://tei-c.org/release/doc/tei-p5-doc/en/html/ref-lb.html">TEI element lb (line beginning)</ref>.</note>
                  </p>

               	 <dhq:example> 
               	 	<head>
                     <title rend="italic">Iliad</title>  1.351–56 <ptr target="#tlgbetacode"/><ptr target="#perseusiliad"/></head>
               	 	<eg lang="xml"><![CDATA[<l>mh=ter e)pei/ m' e)/teke/s ge minunqa/dio/n per e)o/nta,</l>
<l>timh/n pe/r moi o)/fellen *)olu/mpios e)gguali/cai</l>
<l>*zeu\s u(yibreme/ths: nu=n d' ou)de/ me tutqo\n e)/tisen:</l>
<l n="355">h)= ga/r m' *)atrei/+dhs eu)ru\ krei/wn *)agame/mnwn</l>
<l>h)ti/mhsen: e(lw\n ga\r e)/xei ge/ras au)to\s a)pou/ras.</l>]]>
               	  </eg>
               	  	</dhq:example>
                  <dhq:example><head>
                     <title rend="italic">Theogony</title>  979–83 <ptr target="#perseustheogony"/></head>
                  	<eg lang="xml"><![CDATA[<lb/><milestone ed="P" unit="para" />kou/rh d' *)wkeanou=, *xrusa/ori karteroqu/mw|
<lb rend="displayNum" n="980" />mixqei=s' e)n filo/thti poluxru/sou *)afrodi/ths, 
<lb />*kalliro/h te/ke pai=da brotw=n ka/rtiston a(pa/ntwn,
<lb />*ghruone/a, to\n ktei=ne bi/h *(hraklhei/h
<lb />bow=n e(/nek' ei)lipo/dwn a)mfirru/tw| ei)n *)eruqei/h|.]]>
                  </eg>
                  </dhq:example>

               	
               	<p>Having isolated a line, we decode its text contents from Beta Code to Unicode. We extract words from the line by splitting on sequences of non-letter, non-diacritic characters. For this purpose, the apostrophe character (’), used to mark elision in words like <foreign xml:lang="grc">ἀλλ’</foreign>, is considered to be a letter character. Some TEI documents use apostrophes to mark quotations, which complicates word extraction by giving the character a second meaning as punctuation. When we discovered uses like this, we amended it in the source document using quotation markup.</p>
               </div>
               <div>
                  <head>Lemmatization</head>
                  <p>SEDES needs a way of defining which words count as <q>the same</q> for the purpose of computing distributions over <term>sedes</term>. Our instrument for deciding which words are considered equivalent is the lemma.
                     <note> For recent work on lemmata in digital philology, see <ptr target="#forstall2015" loc="505–6"/>, <ptr target="#heslin2019"/>, <ptr target="#passarotti2020"/>.</note> 
                     In lexicography, a lemma is the dictionary headword with which all its morphological variants are associated. Ancient Greek is a highly inflected language, one in which words take on many forms according to their grammatical function. The lemma unifies the many related forms of a word and bundles them under one label. For example, the genitive singular word <foreign xml:lang="grc">ἀοιδῆς</foreign> and the dative plural <foreign xml:lang="grc">ἀοιδαῖς</foreign> both have the same lemma, <foreign xml:lang="grc">ἀοιδή</foreign> (<q>song</q>); the two words therefore fall into the same bucket for the purpose of computing statistics. (Note, however, that lemma assignment does not affect the scansion procedure that will be described in the next section; scansion uses the words of the original text, pre-lemmatization.) As a semantic matter, lemma corresponds to lexeme, an item of meaning removed from a language’s inflectional rules; we may think of a lemma as a representative of a lexeme, standing for a group of related words.
                     <note> Although particular inflections of a lemma may vary in metrical shape and thus only be able to occupy particular <term>sedes</term>  (cf. <ptr target="#oneill1942"/>), we primarily seek to identify potential patterns of expectancy generated by the repetition of a lemma’s various inflections in the <term>sedes</term>  they happen to occupy. To accomplish this empirical study, we need only quantify the frequency of lemmata and <term>sedes</term>  at which they do, in fact, occur; cf. <ptr target="#sansom2021" loc="444–45"/>.</note>
                  </p>
                  <p>Mapping a word to its lemma is not trivial <ptr target="#heslin2019" loc="391"/>. But strictly speaking, we do not care about a word’s lemma per se. All we care about is when two words have the same lemma. In mathematical terms, equality of lemmata is an equivalence relation that partitions the universe of words into equivalence classes: all words that have the same lemma are in the same class, and no two words in the same class have different lemmata.
                     <note> The idea of grouping words according to a definable equivalence relation immediately suggests generalizations of SEDES beyond lemmata. Other definitions of equivalence could be coarser (more words per class) or finer (fewer words per class). Our focus on lemma in this article is due to lemma being a ready means of uniting the many inflected forms of words in Ancient Greek, as well as its being a relatable concept in itself.</note>  
                     As long as a lemmatization algorithm is consistent, it may as well output abstract tokens like <q>x1234</q> as literal Greek words.
                     <note> That is, for the purpose of statistics. For the purpose of interpretation, it is nice to have the actual lemma at hand.</note>  
                     This is to say that the consequence of a word being lemmatized incorrectly is that the word ends up in a different class than it should: it is missing from its <q>true</q> class and is instead grouped with some other class of words (or a class by itself). Whether such an error makes a meaningful difference in the statistics depends on how many times the word occurs, and the sizes of the other lemma classes. In SEDES, we use the backoff Greek lemmatizer
                     <note>
                        <ref target="https://legacy.cltk.org/en/latest/greek.html#lemmatization-backoff-method">Source code for cltk.lemmatize.grc</ref>.</note>  
                     of the Classical Language Toolkit <ptr target="#cltk"/>. The backoff lemmatizer employs a chain of sub-lemmatizers (which are various forms of dictionary lookup and regular expression transformations <ptr target="#burns2018"/>, <ptr target="#burns2020" loc="161–62"/>), trying each in turn until one returns a result. If no lemma is found by any of these techniques, the last-resort fallback is to use the word itself as the lemma. The fallback occurs for about 2% of words in the corpus (7% of unique words). A random sample of 100 lines suggests a 98.6% accuracy rate: we identified 10 misattributed lemmata among the 721 words in <title rend="italic">Iliad</title> 13.563–662.</p>
                  
                  <p>We augment the CLTK lemmatizer with a preprocessing step that attempts variations on accent marks: if the initial lemmatization fails, the lemmatizer applies one of a small set of accent transformations, namely, changing a grave accent to an acute accent, or removing an acute accent.<note>
                        <ref target="https://github.com/sasansom/sedes/issues/29">#29 Add a transform-ultima fallback step to the lemmatizer</ref>.</note>  The pre-transformation step makes a few thousand words lemmatizable that would not be otherwise. We further have the lemmatizer first consult a hardcoded list of our own, manually determined lemmata, which we use this list for words that are common in our corpus but for which automatic lemmatization fails.</p>
               </div>
               <div>
                  <head>Scansion</head>
                  <p>The computation of expectancy requires a word’s lemma and <term>sedes</term>. In the previous step we found the lemma; now we tackle the <term>sedes</term>. <term>Sedes</term> is a byproduct of scansion, which, in the context of Greek hexameter, means determining the metrical value (long or short) of every syllable in a line.<note> <ptr target="#schumann2021" loc="4"/> give a summary of approaches to automatic scansion. For ancient syllabification and scansion, see, for example, Hephaestion <title rend="italic">Encheiridion</title>  (<q>On Meter</q>) 1.1–10 <ptr target="#westphal1866"/>, <ptr target="#vanophuijsen1987" loc="31–48"/>.</note> Once a scansion is settled, the <term>sedes</term> of a word is determined by the metrical values of the words preceding it in the line. For automatic scansion, we use the Python hexameter module <ptr target="#ranker2012"/>. Here we will briefly describe how the algorithm works.</p>
                  
                  <p>The first step is to isolate syllables by looking for vowels and diphthongs. Each lexical syllable is assigned a preliminary metrical value according to language rules that are specific to Greek. An example of these rules is that, unless modified by other rules, the vowels <q xml:lang="grc">ε</q> and <q xml:lang="grc">ο</q> are short, <q xml:lang="grc">η</q> and <q xml:lang="grc">ω</q> are long, and other vowels are (for now) undetermined. At this point in the analysis, a syllable may be classified as definitely long, definitely short, or one of a few other values that govern how the syllable may be resolved into long or short in the next step.</p>
                  
                  <p>Resolution of preliminary metrical values into final metrical values is accomplished using a finite automaton. A finite automaton is a computational state machine that represents (or recognizes) a restricted set of inputs — in our case, the set of properly formed lines of Greek hexameter. The automaton matches lines of hexameter the same way that a regular expression matches a subset of strings. The automaton encodes various rules of the poetic form: for example, that a line contains six feet total; that the first half of a foot must be a long syllable; and that the second half of every foot but the last may be either one long syllable or two short syllables. Each transition in the automaton is marked with both the preliminary metrical values that permit the transition to be taken, and the final metrical value the syllable is to be assigned, when that transition is taken. In general, there is more than one way of fitting a line into the schema of hexameter. For example, one might change a short syllable to a long early in the line, making compensating adjustments to following syllables in order to maintain the same total length. This fact is reflected in the automaton by there being multiple paths from start to finish when there are multiple feasible scansions. Not all scansions are equally good, however. The automaton’s output is biased towards parsimony by weights attached to state transitions, which penalize metrical value assignments that require uncommon metrical rules. The associated final metrical values of the path with lowest weight becomes the scansion of the line.</p>
                  
                  <p>Occasionally, the automatic scansion algorithm yields either no paths through the automaton, or two or more paths of equal weight. We scanned these problematic lines by hand and added them to a list of scansion overrides, which take precedence over automatic scansions. There are 1,526 entries in the list of overrides, about 2.1% of the lines in the corpus. Manually scanning lines whose automatic scansion is undefined or ambiguous requires human expertise in the form of meter being analyzed. The CSV output of tei2csv  records the source of the scansion in the scanned  column — either manual  or auto. The num_scansions  column counts the number of equally weighted automatic scansions found, usually 1.</p>
                  
                  <p>Once every syllable in a line has been assigned its metrical value, it is straightforward to determine the <term>sedes</term>  of each word. Start at the beginning of the line and <term>sedes</term> 1. Advance the <term>sedes</term>  by 1 for a long syllable, and by 0.5 for a short syllable. The <term>sedes</term>  of a word is the <term>sedes</term>  of its first syllable. The <term>sedes</term>  of words in a line are not all necessarily distinct. For example, in <title rend="italic">Iliad</title>  1.241 <ptr target="#perseusiliad"/>, <foreign xml:lang="grc">σύμπαντας· τότε δ’ οὔ τι δυνήσεαι ἀχνύμενός περ</foreign>, the two adjacent words <foreign xml:lang="grc">δ’</foreign> and <foreign xml:lang="grc">οὔ</foreign> share <term>sedes</term> 5, because they are pronounced as one word.</p>
                  <p>To evaluate the accuracy of the automatic scansion algorithm, we randomly sampled 1,200 lines from the entire corpus and manually checked their automatic scansion. 1,195 lines (99.6%) were scanned correctly.</p>
               </div>
               <div>
                  <head>Expectancy Computation</head>
                  
                  <p>We now come to the central question: how expected is each word, given its lemma and the <term>sedes</term> at which it appears? Following  <ptr target="#porter1951"/>, we call the measure of expectedness <q>expectancy.</q> Expectancy is not a property of lemma only or of <term>sedes</term> only, but of both considered jointly. For each lemma–<term>sedes</term> pair, we ask: given the distribution of this lemma in the corpus, is this <term>sedes</term> usual or unusual?</p>
                  
                  <p>Our metric of expectancy is the <term>z</term>‑score, which measures distance from the mean of a distribution in units of the standard deviation <ptr target="#hoover2013" loc="520–21"/>, <ptr target="#allen1988" loc="6–7"/>. The formula for the <term>z</term>‑score of an observed value <term>x</term>  is z = (x - μ)/σ  where <term xml:lang="grc">μ</term>  is the mean of a population and <term xml:lang="grc">σ</term>  is its standard deviation. A <term>z</term>‑score of +1.5, for example, describes a value that is 1.5 standard deviations greater than the mean. Values greater than the mean have positive scores, and values less than the mean have negative scores. We count how many times a certain lemma appears at a certain <term>sedes</term>, and the <term>z</term>‑score expresses whether that count is greater or less than would be expected, given the counts at that and other <term>sedes</term>.</p>
                  
                  <p>In our definition of expectancy, different lemmata do not interact.
                     <note> Just as a lemma aggregates the various inflections of a word and allows for analysis of their metrical distribution, future work could aggregate words into coarser or finer classes. For example, one potentially useful coarser classification is word root. The separate lemmata <foreign xml:lang="grc">ἀοιδή/ᾠδή</foreign> (<q>song</q>), <foreign xml:lang="grc">ἀοιδός/ᾠδός</foreign> (<q>singer</q>), and <foreign xml:lang="grc">ἀείδω/ἀοιδιάω</foreign> (<q>to sing</q>) all share the same root related to the possibly Indo-European <hi rend="italic">*h2ueid</hi>  (<q>sing,</q> cf. <ptr target="#beekes2010" loc="23"/>); this root may also generate patterns of expectation based on metrical position that could be assessed by <term>sedes</term>  analysis.</note>
                     The expectancy of a lemma at a particular <term>sedes</term>  depends only on the distribution of that lemma. For example, in our corpus, the lemma <foreign xml:lang="grc">βοῦς</foreign> (<q>cow</q>) appears 448 times, while <foreign xml:lang="grc">χέλυς</foreign> (<q>tortoise</q>) appears only 8 times. It is more <q>expected,</q> then, in some sense, for any given word to be <foreign xml:lang="grc">βοῦς</foreign> than to be <foreign xml:lang="grc">χέλυς</foreign>. But we are not interested in comparing <foreign xml:lang="">βοῦς</foreign> versus <foreign xml:lang="grc">χέλυς</foreign>; rather we weigh <foreign xml:lang="grc">βοῦς</foreign> against other instances of βοῦς, and χέλυς against other instances of χέλυς.</p>
                  
                  <p>To establish corpus-wide distributions of lemmata and <term>sedes</term>, we repeat the three previous steps — segmentation, lemmatization, and scansion — for every work in the corpus, using the tei2csv  program to create a collection of work-specific CSV files with a lemma and <term>sedes</term>  for every word. Then a separate program, called expectancy, takes as input the whole collection, computes the expectancy of every unique lemma–<term>sedes</term>  pair across the entire corpus, and writes a table of computed expectancy values to another CSV file. This table will be used in the next step to produce a visualization for a single work.</p>
                  
                  <p>The expectancy program begins by counting the number of occurrences of each unique lemma–<term>sedes</term>  pair. Then, for each lemma, it examines the lemma’s distribution over the possible <term>sedes</term>. Before applying the <term>z</term>‑score formula to the table of <term>sedes</term>  counts, we weight each count by itself. For instance, the weighted mean of the distribution of counts [1, 2, 2, 15] is not (1 + 2 + 2 + 15) / 4 = 5, but rather (1×1 + 2×2 + 2×2 + 15×15) / (1 + 2 + 2 + 15) = 11.7. This is because the counts represent 20 total words, not 4; since the majority of words appear at a <term>sedes</term>  having a count of 15, a representative count should be closer to 15 than it is to 1 or 2. We similarly weight the standard deviation calculation. To be precise, we use the following formulas for the weighted mean and standard deviation of a vector of <term>sedes</term> frequency counts [c<hi rend="subscript"><hi rend="italic">1</hi></hi>, …, c<hi rend="subscript"><hi rend="italic">n</hi></hi>]:</p>
                  
                      
                     
                     <p><formula notation="tex" rend="block">$$\begin{align*}
                        \mu  &amp;= \frac{\sum_{i=1}^n c_i \times c_i}{\sum_{i=1}^n c_i} \\
                        \sigma &amp;= \sqrt{\frac{\sum_{i=1}^n c_i \times (c_i - \mu)^2}{\sum_{i=1}^n c_i}}.
                        \end{align*}$$</formula></p>
                      
                     
                  
                  <p>The output of the expectancy  program is a CSV file that maps lemma–<term>sedes</term>  pairs to their respective <term>z</term>‑scores.</p>
                  <p>The <term>z</term>‑score formula is not defined for distributions whose standard deviation is zero. Such a situation arises when the frequency counts for a lemma are exactly equal in every <term>sedes</term>  where it appears. Examples are <foreign xml:lang="grc">ἑκηβόλος</foreign> (<q>far-shooter</q>), which occurs 42 times but always in <term>sedes</term> 6.5, and <foreign xml:lang="grc">Κίλλα</foreign> (the astyonym <q>Killa</q>), which occurs 4 times total, twice each in <term>sedes</term> 1 and 11). Important special cases of this general phenomenon are words that appear only once or twice in the corpus, such as the <title rend="italic">hapax legomenon</title>  <foreign xml:lang="grc">ἑλώρια</foreign> (<title rend="italic">Iliad</title> 1.4, lemma <foreign xml:lang="grc">ἑλώριον</foreign>). Expectancy is also undefined for lemmata that never appear in the corpus — those whose table of frequency counts is everywhere zero. This last situation may occur only when when the work under consideration is not part of the corpus that defines expectancy: if it had been, all its lemmata would necessarily have a nonzero count in at least one <term>sedes</term>. For the purposes of visualization, we treat undefined <term>z</term>‑scores as if they were zero; i.e., neither more nor less frequent than expected. Figure 2 shows the distribution of <term>z</term>‑scores for every word in the entirety of our corpus.</p>
                  
                     <figure>
                        <head>Histogram of <term>z</term>‑scores for all words across our entire corpus. This chart excludes about 33,000 words with undefined <term>z</term>‑scores. Over 95% of <term>z</term>‑scores lie in the interval [−1.75, +1.75], though the tail of negative values extends as far as −11.5.</head>
                        <graphic url="resources/images/figure02.png"/>
                        <figDesc>Histogram of <term>z</term>-scores.</figDesc>
                     </figure>
                     
                  <p>Even disregarding lemmata, it is not the case that all <term>sedes</term>  are equally likely to be the site of the start of a word. A simple demonstration of this fact is that every line of hexameter contains a word at <term>sedes</term> 1 (the first word), but whether there is a word at <term>sedes</term> 2 depends on the how long the first word is. Figure 3 shows the distribution over <term>sedes</term>  for the works in our corpus. One might reasonably suggest applying a correction to the expectancy formulas to adjust for an assumed <term xml:lang="la">a priori</term> distribution over <term>sedes</term>. We have chosen not to do so, reasoning that a word’s appearing at an uncommon <term>sedes</term>  is itself a sign of unexpectedness.</p>
                  
                     <figure>
                        <head>Distribution of <term>sedes</term> cross the full corpus. Not all <term>sedes</term> are equally likely.</head>
                        <graphic url="resources/images/figure03.png"/>
                        <figDesc>Bar chart of sedes frequencies.</figDesc>
                     </figure>
                     
                  <p>Further exploration and justification of the utility of <term>z</term>‑scores as a measure of expectancy appears below in the section <quote rend="inline">Interpretation of <term>z</term>‑scores.</quote> We now show how expectancy scores feed into the final step of the pipeline, namely visualizing numeric expectancy data.</p>
               </div>
         
               <div>
                  <head>Visualization</head>
                  
                  <p>The data files emitted by the previous steps lend themselves to various forms of analysis. Our specific goal is to produce a readable visualization of the source text, with every word highlighted according to its expectancy.<note> For theory of visualization, see <ptr target="#braun2018"/>; for other attempts by philologists to visualize repetition in Greek hexameter, see <ptr target="#martin1989" loc="167–70"/>, <ptr target="#chicagohomer"/>, and <ptr target="#pavese2003"/>.</note> Such a visualization enables a human reader to quickly visually peruse and identify words whose expectancy is much different than expected, aided by the context of the surrounding text. Words thus identified may be worthy of further investigation.</p>
                  <p>The processing pipeline terminates in the tei2html  program, which takes as input a TEI text and the table of lemma–<term>sedes</term>  expectancy scores output by the expectancy  program, and produces a visualization that uses HTML, CSS, and JavaScript. Like tei2csv, tei2html  isolates words from its TEI input and assigns each one a lemma and <term>sedes</term>. It looks up the expectancy scores of the lemma–<term>sedes</term>  pairs, and emits an HTML document where every word is annotated with its expectancy and other metadata.</p>
                  <p>The HTML document provides an interactive selection of visualization styles. A simple and effective way to depict expectancy is to shade the color of words on a scale from dark to light.<note> The steepness of the shading gradient around zero is a configurable parameter. We have tuned the default value to provide good discrimination in the interval [−2, +2], where most<term>z</term>‑scores are (Figure 2).</note>  In this style, words with higher expectancy fade into the background, and those with lower expectancy are visually emphasized (Figure 4).</p>
                  
                     <figure>
                        <head>Words shaded according to <term>z</term>‑score, dark to light.</head>
                        <graphic url="resources/images/figure04.png"/>
                           <figDesc>"Shade text" visualization.</figDesc>
                     </figure>
                     
                  <p>A variation of this style is a diverging color gradient, which, rather than emphasizing the difference between negative and positive, emphasizes distance from the mean. In this style, <term>z</term>‑scores close to zero are visually diminished, while those that are large positive or large negative are highlighted in saturated and contrasting colors. Here, negative <term>z</term>‑scores are red and positive <term>z</term>‑scores are blue (Figure 5).</p>
                  
                     
                     <figure>
                        <head>Words shaded on a diverging scale, red to gray to blue.</head>
                        <graphic url="resources/images/figure05.png"/>
                           <figDesc>"Shade text, diverging" visualization.</figDesc>
                     </figure>
                     
                  <p>Words vary in their length and visual density; of two words shaded identically, the longer word may be visually more prominent, simply because up more space. In an attempt to mitigate this potential bias, we have provided alternative styles that attach filled circles of uniform size to words, where the circles are shaded rather than the text (Figure 6). Here, as well, the gradient may be sequential or diverging.</p>
                 
                     <figure>
                        <head>Shaded circles of uniform size are an alternative to text shading.</head>
                        <graphic url="resources/images/figure06.png"/>
                           <figDesc>"Shade bubbles, diverging" visualization.</figDesc>
                     </figure>
                     
                  <p>The visualization has an <q>align to <term>sedes</term> grid</q> option that vertically aligns words according to their <term>sedes</term>  (Figure 7).<note> The alignment of inflected words to the beginning of their first syllable reflects their membership in lemmata with less regard to the quantity of its morphological ending and, as a result, better represents the program’s quantification of lemmata and interest in their patterns of expectancy.</note>  This option may be combined with any visualization style.</p>
                  
                     <figure>
                        <head><q>Align to <term>sedes</term> grid</q> forces words in the same <term>sedes</term> into vertical alignment.</head>
                        <graphic url="resources/images/figure07.png"/>
                           <figDesc>Text aligned to sedes grid.</figDesc>
                     </figure>
                     
                  <p>The HTML output provides a panel for selecting visualization options and displaying additional information (Figure 8). Clicking on a word shows its metrical shape, lemma, <term>sedes</term>, and expectancy, as well as the distribution of the lemma over <term>sedes</term>  and the resulting <term>z</term>‑scores.</p>
                  
                  <figure>
                     <head>The interactive panel that controls visualization and shows information about selected words, here showing the <term>sedes</term>  and <term>z</term>‑score distribution of the lemma <foreign xml:lang="grc">ζεύς</foreign>, found in <title rend="italic">Iliad</title> 1.5.</head>
                  <graphic url="resources/images/figure08.png"/>
                     <figDesc>Interface showing data provided for a single word</figDesc>
                  </figure>
            </div>
            <div>
               <head>Interpretation of <term>z</term>‑scores</head>
               
               <p>The essential aspect we hope to capture with SEDES is how expected, in some human sense, a lemma is at a particular metrical position. There are many possible ways to quantify expectancy (e.g., frequency charts à la <ptr target="#oneill1942"/>); the one we have chosen is the <term>z</term>‑score. The <term>z</term>‑score is an adaptive measure that does not assume a specific prior distribution of counts over <term>sedes</term>. Because the <term>z</term>‑score is normalized to the standard deviation of a distribution, it provides a common basis of comparison for all lemmata, whether frequent or rare. Let us take two examples to explore the meaning of the <term>z</term>‑score and how it is affected by the underlying <term>sedes</term> distribution. The two lemmata we will look at both occur over 50 times, but with markedly different distributions.</p>
               
               <p>First, consider the lemma <foreign xml:lang="grc">μορφή</foreign> (<q>shape; beauty</q>). It overwhelmingly appears at <term>sedes</term> 11, and only rarely occurs at four other <term>sedes</term>. <term>Sedes</term> 11 is assigned a <term>z</term>‑score of +0.33, whose nearness to zero indicates that it is expected, or unmarked, at this <term>sedes</term>.<note> For markedness in this sense, cf. <ptr target="#schein2015" loc="93–116"/>.</note>  In contrast, the rarely occurring <term>sedes</term>  are assigned large negative <term>z</term>‑scores, less than −3.00, which indicate a low degree of expectancy.</p>
               
               <table>
                  <head><term>Sedes</term> distribution and expectancy of <foreign xml:lang="grc">μορφή</foreign>.</head>
                  <row role="label">
                     <cell><term>Sedes</term></cell>
                     <cell>x</cell>
                     <cell>
                        <term>z</term>‑score</cell>
                  </row>
                  <row role="data">
                     <cell>1</cell>
                     <cell>8</cell>
                     <cell>−3.01</cell>
                  </row>
                  <row role="data">
                     <cell>2</cell>
                     <cell>2</cell>
                     <cell>−3.15</cell>
                  </row>
                  <row role="data">
                     <cell>4</cell>
                     <cell>5</cell>
                     <cell>−3.08</cell>
                  </row>
                  <row role="data">
                     <cell>6</cell>
                     <cell>1</cell>
                     <cell>−3.18</cell>
                  </row>
                  <row role="data">
                     <cell>11</cell>
                     <cell>150</cell>
                     <cell>+0.33</cell>
                  </row>
               </table>
               
               <p>Next, consider the lemma <foreign xml:lang="grc">δένδρεον</foreign> (<q>tree</q>). Its distribution is less skewed. It occurs with roughly equal frequency at <term>sedes</term> 3, 7, and 9; still more often at <term>sedes</term> 1, but not overwhelmingly so. This lemma is more likely to appear at <term>sedes</term> 1 than at any other single <term>sedes</term> — but <term>sedes</term> 1 accounts for fewer than half of total instances. In this distribution, a count of 11 is closer to <q>typical</q> than a count of 19. The evenly distributed <term>sedes</term> accordingly get negative <term>z</term>‑scores that are relatively close to zero. The <term>sedes</term> with a larger count gets a positive <term>z</term>‑score, farther from zero.</p>
       
               <table>
                  <head><term>Sedes</term>  distribution and expectancy of <foreign xml:lang="grc">δένδρεον</foreign>.</head>
                  <row role="label">
                     <cell><term>Sedes</term></cell>
                     <cell>x</cell>
                     <cell>
                        <term>z</term>‑score</cell>
                  </row>
                  <row role="data">
                     <cell>1</cell>
                     <cell>19</cell>
                     <cell>+1.30</cell>
                  </row>
                  <row role="data">
                     <cell>3</cell>
                     <cell>10</cell>
                     <cell>−1.02</cell>
                  </row>
                  <row role="data">
                     <cell>7</cell>
                     <cell>12</cell>
                     <cell>−0.51</cell>
                  </row>
                  <row role="data">
                     <cell>9</cell>
                     <cell>11</cell>
                     <cell>−0.76</cell>
                  </row>
               </table>
               
               <p>The extreme <term>z</term>‑scores — those that are most negative and most positive — naturally stand out as being worthy of attention. The most negative scores are the rare outliers, the <term>sedes</term> at which a lemma appears much less frequently than usual. The first example above illustrates such a situation. A large negative score is a hint (though not a guarantee) that something unexpected is happening compositionally: perhaps a common word is used in an uncommon way, or as part of an uncommon poetic structure. In the other direction, the most positive <term>z</term>‑scores show where a lemma appears <emph>more</emph> frequently than usual. Note an apparent contradiction: in order for a lemma to be more than expected at a certain <term>sedes</term>, it must appear there a large number of times — does that not make the lemma actually expected at that <term>sedes</term>? But there is no contradiction, really: large positive <term>z</term>‑scores arise only with counts that are larger than the mean, but which are outweighed by the sum of smaller counts at other <term>sedes</term>. The second example above is such a case. In contrast to the rare outliers signified by large negative <term>z</term>‑scores, large positive <term>z</term>‑scores represent occurrences that occur frequently yet are still unusual in the larger context of the lemma. The diverging color scale visualization options bring out both phenomena.</p>
               
               <p>It is important not to confuse <term>z</term>‑scores with pure frequency counts. A low <term>z</term>‑score does not mean that a lemma itself is uncommon. Just the opposite: it means that <emph>a particular sedes</emph>  is an uncommon one for the given lemma. Intuitively, a lemma’s appearance at one <term>sedes</term>  can only count as unusual if there are sufficiently many instances of the lemma at other <term>sedes</term>  to establish what <q>usual</q> is. Large negative <term>z</term>‑scores are only possible with frequently occurring lemmata. To reach a <term>z</term>‑score as low as −2, there must be at least 5 total instances of a lemma; for −5 there must be at least 26; and for −10 there must be at least 101. (Compare to the empirical distribution of <term>z</term>‑scores in Figure 2.)</p>
               
               <p>It may happen that the demands of poetic form affect word placement and therefore the distribution of <term>sedes</term>. For instance, some lines in a poem may be more or less formulaic than others, and therefore be more or less constrained in their composition. Suppose that in a special subset of lines (invocations, say), a certain lemma falls at a <term>sedes</term>  at which it does not commonly appear in other, non-invocation lines. The relatively low frequency of the lemma at its place in an invocation is, then, partially a reflection of the relative rarity of invocation lines. In the subset of lines that are invocations, the lemma may in fact be perfectly expected at a <term>sedes</term>  that is unusual in the wider context of the poem. It is possible to imagine specializations of <term>sedes</term>  expectancy that take into account additional factors, such as the functional or literary purpose of the lines in which words appear. Doing so, however, requires presupposing criteria by which a work is to be subdivided. Our present purpose is different: to use <term>sedes</term>  as a tool to <emph>discover</emph>  where the placement of words has been affected, whether by formula or by any other cause.</p>
            </div>
         
            <div>
               <head>SEDES in Action: Formula and Intertext</head>
               
               <p>We have engineered SEDES to be useful for diverse types of analysis and, by making the code available as free software, to be adaptable to the interests of future researchers of metrical position in Greek hexameter, by itself or in tandem with other digital humanities tools. Most readily, it is designed to compute and visualize the frequency of lemmata. Users can explore the corpus with the visualization (either online or by downloading the program), look for dark shading among the sea of gray, and click for statistics on the lemma. Or, after downloading the program, they can create the CSV file of underlying data and organize it in a spreadsheet according to their own interests, for example by ordering rows by lemma and <term>z</term>‑scores. Once the user finds a word in an unexpected position, they then can interpret its literary significance (see, e.g., <ptr target="#sansom2021" loc="454–60"/>). As a sample of its functionality in relation to established ways of interpreting Greek hexameter, in what follows we briefly gesture towards the integration of <term>sedes</term> analysis with two prominent interpretative modes: formularity and intertextuality.</p>
               
               <p>SEDES adds granular, novel information to our understanding of formulaic regularity. In oral-poetic theory and Homeric philology, the formula serves as one of the most basic and useful units of composition, though the quality and nature of the formula in epic diction is highly contested.<note> For a helpful review of predominant definitions of formula in context of oral poetics and quantitative intertextuality, see <ptr target="#forstall2019" loc="35–7"/>. For the (<q>structural</q>) formula and metrical position, see <ptr target="#russo1963"/>, with the response by <ptr target="#packard1976"/>, and for attention to metrical position and formula <term>passim</term>, <ptr target="#tate2010"/>.</note>  As defined by <ptr target="#parry1930" loc="80"/>, a formula is <quote rend="inline">a group of words which is regularly employed under the same metrical conditions to express a given essential idea</quote> (<ptr target="#parry1971" loc="272"/>; cf. <ptr target="#parry1928" loc="16"/> <quote rend="inline" xml:lang="fr">une expression qui est régulièrement employée, dans les mêmes conditions métriques, pour exprimer une certaine idée essentielle</quote>). Despite its focus on single and not groups of words, SEDES helps to identify unexpected behavior in constituent words of the group, behavior that should inform our conception of formulaic regularity. Take the phrase <foreign xml:lang="grc">πατρίδα γαῖαν</foreign>, <q>(to one’s) fatherland.</q> Using a collated lemma search in the <ptr target="#tlg"/> or a phrase search in the <ptr target="#chicagohomer"/>, we find that the phrase <foreign xml:lang="grc">πατρίδα γαῖαν</foreign> occurs 21 times in the <title rend="italic">Iliad</title>, with 19 instances positioned at line end (after the <q>bucolic diaeresis</q> at <term>sedes</term> 9–12).<note>
                     <title rend="italic">Iliad</title>  2.140, 158, 174, 454, 4.180, 5.687, 7.335, 460, 9.27, 47, 414, 11.14, 13.645, 15.499, 505 (<term>sedes</term> 7–10), 706, 16.832, 18.101, 23.145, 23.150, 24.557 (<term>sedes</term> 3–6); note also the variants, <q>in the fatherland</q> (<foreign xml:lang="grc">ἐν πατρίδι γαίῃ</foreign>) at <title rend="italic">Iliad</title>  3.244, 8.359, and 22.404, and <q>from one’s fatherland</q> (<foreign xml:lang="grc">γαίης ἄπο πατρίδος</foreign>) at <title rend="italic">Iliad</title>  13.696 and 15.335.</note>  Iliad 15.499 is typical:</p>
               
               <quote rend="block"><foreign xml:lang="grc"><hi style="color:#d4d4d4;">οἴχωνται</hi> <hi style="color:#878787;">σὺν</hi> <hi style="color:#d5d5d5;">νηυσὶ</hi> <hi style="color:#d9d9d9;">φίλην</hi> <hi style="color:#6e6e6e;">ἐς</hi> <hi rend="underlined"><hi style="color:#c7c7c7;">πατρίδα</hi> <hi style="color:#d5d5d5;">γαῖαν</hi></hi></foreign>
                  <lb/>(<title rend="italic">Iliad</title>  15.499, <foreign xml:lang="grc">πατρίς</foreign> <term>z</term>  = +0.51 at <term>sedes</term> 9, 19 instances at line end)</quote>
               
               <p>There is variance in the preceding elements: most often the phrase is introduced with the preposition <foreign xml:lang="grc">φίλην ἐς</foreign> (<q>to the beloved (fatherland)</q>), though three instances at line end lack preceding <foreign>φίλην ἐς</foreign> (<title rend="italic">Iliad</title> 7.335, 13.645, and 15.706). Although the phrase <foreign xml:lang="grc">πατρίδα γαῖαν</foreign> is highly regular and predictable in other respects, two exceptional instances in the <title rend="italic">Iliad</title> shift its metrical position away from line end:</p>
               
               <quote rend="block"><foreign xml:lang="grc"><hi style="color:#a9a9a9;">ἐμβαδὸν</hi> <hi style="color:#5a5a5a;">ἵξεσθαι</hi> <hi style="color:#565656;">ἣν</hi> <hi rend="underlined"><hi style="color:#555555;">πατρίδα</hi> <hi style="color:#7f7f7f;">γαῖαν</hi></hi> <hi style="color:#c6c6c6;">ἕκαστος</hi></foreign>
                  <lb/>(<title rend="italic">Iliad</title>  15.505, <foreign xml:lang="grc">πατρίς</foreign> <term>z</term>  = −1.81 at <term>sedes</term> 7, Ajax to Achaians)</quote>
               
               <quote rend="block"><foreign xml:lang="grc"><hi style="color:#d6d6d6;">σὴν</hi> <hi style="color:#484848;">ἐς</hi> <hi rend="underlined"><hi style="color:#343434;">πατρίδα</hi> <hi style="color:#7d7d7d;">γαῖαν</hi></hi>, <hi style="color:#cdcdcd;">ἐπεί</hi> <hi style="color:#585858;">με</hi> <hi style="color:#353535;">πρῶτον</hi> <hi style="color:#d3d3d3;">ἔασας</hi></foreign>
                  <lb/>(<title rend="italic">Iliad</title>  24.557, <foreign xml:lang="grc">πατρίς</foreign> <term>z</term>  = −2.37 at <term>sedes</term> 3, Priam to Achilles)</quote>
               
               <p>In the two exceptions, by collating the paired lemmata search or phrase search with the SEDES visualization, we see that there is also a change in the expectancy of the phrase’s constituent parts, <foreign xml:lang="grc">πατρίς</foreign> and γαῖα. <term>Sedes</term> 9 is a natural place for the lemma <foreign xml:lang="grc">πατρίς</foreign>, whether or not part of a formula. While γαῖα remains relatively expected in each position, in <term>sedes</term> 3 and 7 <foreign xml:lang="grc">πατρίς</foreign> is placed unexpectedly (Figure 9).</p>
               
               <figure>
                  <head>Table of lemma πατρίς (<q>οf one’s fathers</q>) by <term>sedes</term> in the Archaic subset of the corpus, with expectancy. The total number of instances of the lemma is Σ<term>x</term> = 133.</head>
                  <graphic url="resources/images/figure09.png"/>
                     <figDesc>Table showing <term>x</term>, <term>x/Σx</term>, and <term>z</term> values</figDesc>
               </figure>
               
               <p>When comparing the instances of the phrase at <title rend="italic">Iliad</title>  15.505 and 24.557 with the 19 others at line end, there is a difference in formularity. If you were to ask which instances of the formula <foreign xml:lang="grc">πατρίδα γαῖαν</foreign> are most <q>formulaic,</q> it seems reasonable to claim that the 19 instances of the phrase at line end are more <q>formulaic</q> than the two that occur elsewhere, due to their regularity in that position of the line. This in itself suggests that not all instances of even a single formula are equally expected in a given metrical position. But we could have seen this shift of phrase even without SEDES, using, for example, the repeated phrase tool of the Chicago Homer or a proximity search for the two lemmata in the <title rend="italic">Thesaurus Linguae Graecae</title>. What SEDES allows us to see for the first time is that the placement of the phrase at <term>sedes</term> 3 and 7 not only deviates from normal metrical placement for the <emph>phrase</emph>, it places the <emph>word</emph>  <foreign xml:lang="grc">πατρίς</foreign>, in particular, in a less expected place. In other words, while the phrase is <q>formulaic</q> in all instances, it is less so in <title rend="italic">Iliad</title> 15.505 and 24.557, where it is out of place and where its constituent words, especially <foreign xml:lang="grc">πατρίς</foreign>, stray from their typical positions.</p>
               <p>This new information about the differing metrical behavior of constituents of formulae has at least three effects. First, it nuances the notion of the <q>flexibility</q> of formulaic language <ptr target="#hainsworth1968"/>. SEDES shows that words within a phrase may behave in different ways <emph xml:lang="la">qua</emph>  words, even if they remain contiguous within the phrase and the phrase is not otherwise <q>expanded</q> or <q>contracted.</q> Future work on epic formularity can adapt and incorporate SEDES to fit different models of concepts central to the idea of the formula. If scholars of epic language who are committed to the empirical investigation of formularity are to define the quality and nature of this fundamental component of epic composition, the <term>sedes</term>  expectancy of constituent elements of formulae — individual words — should factor into notions associated with formularity, such as typicality, regularity, expectation, economy, and flexibility.</p>
               <p>Second, unexpected constituents of a formula may interact with other literary features of a text. Scholars have shown how the meaning of individual elements of formulae, such as an epithet, can become more or less salient at different moments in the text <ptr target="#elmer2015"/>, <ptr target="#visser1988"/>, <ptr target="#bakker1991"/>. <hi rend="italic">Sedes</hi>  expectancy may also do something similar when one or more elements of a formula occurs in an unexpected position. Of the two instances above, the more statistically marked instance of <foreign xml:lang="grc">πατρίδα</foreign> is at <title rend="italic">Iliad</title> 24.557, in which it occurs at a <term>sedes</term> (3) that is more than two standard deviations away from the mean (<term>z</term>  = −2.37). In the context of book 24, the unexpected placement of <foreign xml:lang="grc">πατρίς</foreign> (<q>of one’s father[land]</q>) concords with the book’s emphatically paternal semantics, several of which align with the <term>sedes</term> of <foreign xml:lang="grc">πατρίδα</foreign>. The final book of the <title rend="italic">Iliad</title>  features a clandestine visit by Priam, the king of Troy, to Achilles’ tent through divine aid. Priam appears suddenly at Achilles’ camp and kisses Achilles’ hands (24.477–9), astounding Achilles and his companions (<foreign xml:lang="grc">θάμβος…θάμβησεν…θάμβησαν</foreign> Iliad 24.482–4), and utters his first words of petition: <q>remember your father</q> (<foreign xml:lang="grc">μνῆσαι πατρὸς σοῖο</foreign> <title rend="italic">Iliad</title>  24.486). As <ptr target="#edwards1991" loc="10"/> states, <quote rend="inline">Priam’s first words are a culmination of (the <title rend="italic">Iliad</title>’s) theme (of father–son relationships).</quote> In this sudden, incipient statement, <foreign xml:lang="grc">πατρός</foreign> occupies <term>sedes</term> 3, a less expected position for the lemma <foreign xml:lang="grc">πατήρ</foreign> (<term>z</term>  = −1.24) and the same unexpected <term>sedes</term>  as <foreign xml:lang="grc">πατρίδα (γαῖα)</foreign> later. It is notable that of the twenty instances of words with the root <foreign xml:lang="grc">πατρ-</foreign> in <title rend="italic">Iliad</title> 24, only this <foreign xml:lang="grc">πατρὸς</foreign>, the errant <foreign xml:lang="grc">πατρίδα (γαῖαν)</foreign> of 24.557, and one final instance (24.592) occur in <term>sedes</term> 3. The last time that Achilles addresses Patroklos, whose name etymologizes as <q>glory (<emph>kleos</emph>) of the father (<emph>patr-</emph>),</q> the name of his dead companion occurs in <term>sedes</term> 3 (<foreign xml:lang="grc">μή μοι Πάτροκλε  σκυδμαινέμεν</foreign>, Iliad 24.592) for the only time in the vocative case — a case particularly marked for Patroklos, as the narrator famously speaks it in apostrophe eight times <ptr target="#allenhornblower2020"/>. Moreover, as a phrasal search in <ptr target="#chicagohomer"/> shows, the lines immediately surrounding the shifted <foreign xml:lang="grc">πατρίδα γαῖα</foreign> are suffused with paternal referentiality, including an interformulaic reference to the fatherly petitions of Chrysês in book 1 (<foreign xml:lang="grc">δέξαι ἄποινα</foreign> <title rend="italic">Iliad</title> 24.555 ≈ <foreign xml:lang="grc">δέχθαι ἄποινα</foreign> 1.23) and the often parental formula, <foreign xml:lang="grc">ζώειν καὶ ὁρᾶν φάος ἠελίοιο</foreign>, spoken by Thetis about Achilles twice (18.61, 442; cf. 24.562) and by the Trojan leader Anchises after pleading for his <q>flourishing progeny</q> (<foreign xml:lang="grc">θαλερὸν γόνον</foreign>) in the <title rend="italic">Homeric Hymn to Aphrodite</title> (104–5).<note> For the idea of interformularity, see <ptr target="#bakker2013" loc="157–69"/>.</note>
                  <term>Sedes</term>  expectancy draws our attention to potential cross-effects of the unexpectedly placed <foreign xml:lang="grc">πατρίς</foreign>, related words in the same <term>sedes</term>, and paternal thematics in the passage.</p>
               <p>Third, the fact that otherwise <q>formulaic</q> phrases, lines, or passages may contain words that are unexpectedly placed can reveal craft where before the reader may have assumed strict regularity. We see this especially at work in passages that are repeated verbatim in two or more places. Take, for example, Ajax’s speech to the Achaians in <title rend="italic">Iliad</title> 15.560–64, three lines of which are repeated from book 5 (15.562–64 = 5.530–32). We may visualize <term>sedes</term>  expectancy and repeated phrases together using SEDES and notation from the <ptr target="#chicagohomer"/> (<title rend="italic">Iliad</title> 15.560–64):</p>
               
               <quote rend="block" xml:lang="grc"><hi style="color:#cacaca;">Ἀργείους</hi> <hi style="color:#bebebe;">δ’</hi> <hi style="color:#bcbcbc;">ὄτρυνε</hi> <hi rend="superscript">[1[2[3</hi><hi style="color:#b4b4b4;">μέγας</hi>  <hi rend="superscript">[4</hi><hi style="color:#d5d5d5;">Τελαμώνιος</hi><hi rend="superscript">3]</hi> <hi style="color:#cfcfcf;">Αἴας</hi>·<hi rend="superscript">2]4]</hi>
                  <lb/><said><hi rend="superscript">[5[6[7</hi><hi style="color:#c3c3c3;">ὦ</hi><hi rend="superscript">1]</hi> <hi rend="superscript">[8[9</hi><hi style="color:#7a7a7a;">φίλοι</hi><hi rend="superscript">7]</hi> <hi style="color:#4e4e4e;">ἀνέρες</hi><hi rend="superscript">9]</hi> <hi style="color:#a2a2a2;">ἔστε</hi>,<hi rend="superscript">8]</hi> <hi style="color:#cacaca;">καὶ</hi><hi rend="superscript">6]</hi> <hi style="color:#424242;">αἰδῶ</hi> <hi style="color:#9f9f9f;">θέσθ’</hi> <hi style="color:#909090;">ἐνὶ</hi> <hi style="color:#d3d3d3;">θυμῷ</hi>,<hi rend="superscript">5]</hi>
                  <lb/><hi rend="superscript">[10</hi><hi style="color:#7e7e7e;">ἀλλήλους</hi> <hi style="color:#9a9a9a;">τ’</hi> <hi style="color:#414141;">αἰδεῖσθε</hi> <hi rend="superscript">[11</hi><hi style="color:#d8d8d8;">κατὰ</hi> <hi rend="superscript">[12</hi><hi style="color:#d3d3d3;">κρατερὰς</hi> <hi style="color:#cfcfcf;">ὑσμίνας</hi>.<hi rend="superscript">11]12]</hi>
                  <lb/><hi style="color:#d1d1d1;">αἰδομένων</hi> <hi style="color:#bebebe;">δ’</hi> <hi style="color:#4b4b4b;">ἀνδρῶν</hi> <hi style="color:#727272;">πλέονες</hi> <hi style="color:#d4d4d4;">σόοι</hi> <hi style="color:#a9a9a9;">ἠὲ</hi> <hi style="color:#c7c7c7;">πέφανται</hi>·
                  <lb/><hi style="color:#dbdbdb;">φευγόντων</hi> <hi style="color:#bebebe;">δ’</hi> <hi style="color:#313131;">οὔτ’</hi> <hi style="color:#484848;">ἂρ</hi> <hi style="color:#696969;">κλέος</hi> <hi style="color:#525252;">ὄρνυται</hi> <hi style="color:#bdbdbd;">οὔτέ</hi> <hi style="color:#d3d3d3;">τις</hi> <hi style="color:#c4c4c4;">ἀλκή</hi><hi rend="superscript">10]</hi>.</said></quote>
               
               
               <quote rend="block">Great Telamonian Ajax roused the Argives: <said>Oh friends, be men, and put shame in your heart, and consider one another throughout the fierce struggles. When men are considerate more of them end up safe but when they flee there is neither glory nor any warcraft.</said></quote>
               
               <p>It is immediately apparent that within the passage’s formulae there is variation in the expectancy of individual words. Some phrases contain words that are especially expected in their given <term>sedes</term>, such as the pronoun and epithets (phrases 1–4) on line 560. We see greater disparity beginning on line 561, where, although they occur elsewhere in repeated phrases, words such as <foreign xml:lang="grc">ἀνέρες</foreign> (<q>men</q>) and <foreign xml:lang="grc">αἰδῶ</foreign> (<q>shame</q>) are less expected. Perhaps what is most interesting is that the lines (passage 10) repeated verbatim from book 5 contain several unexpected placements of words at <term>sedes</term> 4 (<foreign xml:lang="grc">αἰδεῖσθε, ἀνδρῶν,</foreign> and <foreign xml:lang="grc">οὔτ᾽</foreign>). Here, <term>sedes</term>  expectancy joins other remarkable stylistic features, such as the pragmatic focus on the participles <foreign xml:lang="grc">αἰδομένων</foreign> and <foreign xml:lang="grc">φευγόντων</foreign> which begin both their lines and sentences opposed rhetorically in antithesis (fighting vs. fleeing). Rhetoric affects word order which, with SEDES, we can now see shifts words from their more typical positions and can result in <q>stacking</q> of unexpectedly placed words along particular <term>sedes</term>. SEDES also reveals that formulaic analysis with frequency data is insufficient in articulating the regular or erratic composition of constituent features of this otherwise repetitious material of epic diction, as is especially apparent in longer passages repeated verbatim.</p>
               
               <p>There are likely more ways that <term>sedes</term>  expectancy can alter our understanding of epic formularity, the identification and study of which will occupy future research with SEDES. For example, it is clear from the brief look at <term>sedes</term>  expectancy and formulae above, in particular the regularity of <foreign xml:lang="grc">πατρίδα γαῖα</foreign> at line end, that formulae too have <term>sedes</term>  expectations of their own. Adaptation of SEDES code and methodology could assist in articulating these expectations quantitatively, a function that could then better identify moments when even formulae subvert expectation.</p>
               
               <p>SEDES allows scholars to better locate and qualify intertextual relationships between different passages based on the <term>sedes</term>  expectation of lemmata. While the utility of <term>sedes</term>  expectancy to intertextuality is argued more extensively in <ptr target="#sansom2021"/>, below is a synopsis of the significance of <term>sedes</term> expectancy to words that appear in the same or different <term>sedes</term> in two texts (Figure 10).</p>
               
               <figure>
                  <head>Matrix of <term>sedes</term> intertextuality by expectancy.</head>
                  <graphic url="resources/images/figure10.png"/>
                  <figDesc>Matrix with expectancy of <term>sedes</term> of one word between the same or different texts.</figDesc>
               </figure>
               
               <p>Passages that feature the same lemma in the same <term>sedes</term>  have different interpretations given the expectancy of the lemma. If a word is expected in a particular position, such as <foreign xml:lang="grc">πατρίδα</foreign> in <term>sedes</term> 9 (<term>z</term> = +0.51 in the Archaic corpus, cf. above), its appearance there in two or more passages should not in and of itself suggest intentional reference or allusion. Rather, it is likely to be the result of typical compositional practice for hexameter poetry, what <ptr target="#conte1986"/> calls <term xml:lang="it">modello-codice</term>  (<q>generic model</q>). But if a word occurs in the same unexpected <term>sedes</term>  in both passages, it is more likely to be a direct reference, what <ptr target="#conte1986"/> calls <term xml:lang="it">modello-esemplare</term> (<q>individual model</q>). An example of this can be found in the highly unexpected placement of the lemma <foreign xml:lang="grc">σελήνη</foreign> (<q>moon</q>), which occurs only twice at <term>sedes</term> 6.5 (<term>x</term> = 2, Σ<term>x</term> = 157, <term>z</term> = −8.80 in the whole corpus): in the Shield of Achilles passage in both <title rend="italic">Iliad</title> 18.484 and Quintus of Smyrna’s <title rend="italic">Fall of Troy</title> 5.8. SEDES provides readers of Greek hexameter the quantitative information necessary for better distinguishing between generic and individual types of intertextuality when regarding the shared metrical position of words.</p>
               
               <p>In the past, scholars would often disregard the possibility of an intertextual relationship if a word occured in different <term>sedes</term>. <term>Sedes</term>  expectancy, however, provides a way to identify new intertexts even in cases when there is a difference in <term>sedes</term>. When a word occurs in different <term>sedes</term>  that are both relatively unexpected, in both instances the unexpected <term>sedes</term>  reflects a break in the pattern of expectancy and thus merits further attention. For example, the name of the goddess <foreign xml:lang="grc">Ἀφροδίτη</foreign> occurs at <term>sedes</term> 6 in <title rend="italic">Iliad</title> 9.389 (<foreign xml:lang="grc">οὐδ’ εἰ χρυσείῃ Ἀφροδίτῃ  κάλλος ἐρίζοι</foreign>) and at <term>sedes</term> 2 in <title rend="italic">Od</title>. 20.73 (<foreign xml:lang="grc">εὖτ’ Ἀφροδίτη  δῖα προσέστιχε μακρὸν Ὄλυμπον</foreign>), both of which have <term>z</term>‑scores of −10.0 in the whole corpus, which are among the lowest of any lemma–<term>sedes</term>  pair; the other 99% of the time <foreign xml:lang="grc">Ἀφροδίτη</foreign> occurs exclusively at <term>sedes</term> 10 (<term>x</term> = 200, Σ<term>x</term> = 202, <term>z</term> = +0.10).<note> This information was discovered by using SEDES to create a CSV file of the metrical and frequency statistics of words in the Archaic Greek epic corpus, and then organizing the spreadsheet by<term>z</term>‑score (lowest to highest).</note>  Despite their different <term>sedes</term>, both instances thwart expectations. This fact should cause the researcher to investigate the two further, at which point other collective features emerge: shared language such as the <q>works of Athena</q> (<foreign xml:lang="grc">ἔργα δ᾽ Ἀθηναίη</foreign>) in adjacent lines (<title rend="italic">Iliad</title> 9.390, <title rend="italic">Od</title>. 20.72) or their presence in character speech by notoriously versatile speakers, Achilles and Penelope; cf. <ptr target="#martin1989"/>. Conversely, in cases in which the expectancy of the word is high in both <term>sedes</term>, or mixed high and low, there is perhaps less reason to suppose intertextuality by <term>sedes</term>  is a helpful mode of interpretation. Such statistical data combining word and meter could inform future quantitative intertextuality such as that of <ptr target="#tesserae"/> and as described in <ptr target="#forstall2019"/>. By focusing interpretive efforts on statistically marked instances of words, SEDES gives readers of hexameter an additional tool with which to investigate repetitive phenomena in Greek epic such as formulae and intertexts.</p>
            </div>
            <div>
               <head>Conclusion</head>
               <p>SEDES reached its current state through a long process of evolution and iterative development. It originated as a tool to investigate sonic patterns in poetry, by identifying lines with similar tonal patterns, counting letter <term>n</term>-grams, and quantifying alliteration. It later became specialized for the purpose of finding the metrical positions of all occurrences of forms of a lemma, which enabled analysis of the kind we have described in this article, albeit of only one lemma at a time. At that point, we were using texts sourced from the Thesaurus Linguae Graecae <ptr target="#tlg"/> and Diogenes <ptr target="#diogenes"/> as a tool for lemma lookup. A concrete vision began to take shape of what we wanted to accomplish with SEDES: to compute metrical positions and other statistical information about every word in a large corpus, in an automated fashion. The difficulty of automating Diogenes lookups, and a general preference for freely available data sources, caused us to switch our source of texts from the Thesaurus Linguae Graecae to Perseus, and to begin developing programs around the direct processing of source TEI files. Automating all the steps of the processing pipeline made it feasible to start producing visualizations of an entire work at a time.</p>
               
               <p>The decision to switch to Perseus texts was an important one, enabling us to take control over the entire processing pipeline. Moreover, open-access texts facilitate reproducibility of statistical results, and lower the barriers to participation by people who are not specialists in classical studies. Regardless of the source of texts, a project of this nature requires paying substantial attention to textual and data-format issues.</p>
               
               <p>SEDES was developed in the context of a set of texts we wished to analyze and does not automatically generalize to other Greek hexameter texts. Analyzing texts outside the set we have considered will likely require manual tweaking of the processing programs, as well as adding to the tables of manual lemmatizations and scansions for words and lines that resist automatic processing. When we expanded the corpus from six to twelve texts, to incorporate Hellenistic and Imperial Greek works, we had to make adjustments to the TEI parser to account for previously unseen markup variations.
                  <note>
                     <ref target="https://github.com/sasansom/sedes/issues/9">#9: Update TEI parser to handle Hellenistic and Imperial texts</ref>.</note>  
                  A beneficial side effect of this work has been the discovery and correction of various errors in the source texts.</p>
               
               <p>SEDES provides groundwork for future corpus-level analysis of Greek hexametrical poetry, including by combining textual features (lemma, <term>sedes</term>, and metrical shape) in different ways and by expanding to additional features. More generally, it provides a framework for the analysis of metrical position in metrical language, by which the researcher assembles a corpus, analytical pipeline, and visualization of basic statistics for further development of the program, model, concept, and interpretation and appreciation of the text. Due to the limited size of the Greek hexameter corpus, the method results more from the slow work of philology using basic statistics than from the capacious abilities of machine learning. In some respects, this methodology reflects the disciplinary background of the authors. Yet the benefits of such an interest in poetic language within a limited corpus have focused our attention on a particular approach to lemmatized word frequencies correlated with metrical position. This attention to metrical position, a long-standing interest in classical philology, demonstrates a new route for future studies that seek strong correlations between linguistic phenomena and other formal features of Greek poetry.</p>
            </div>
            <div>
               <head>Availability</head>
               <p>SEDES source code and documentation are available at <ref target="https://github.com/sasansom/sedes">https://github.com/sasansom/sedes</ref>. The project home page, with sample visualization outputs, is <ref target="https://sasansom.github.io/sedes/">https://sasansom.github.io/sedes/</ref>.</p>
            </div>
            <div>
               <head>Acknowledgments</head>
               <p>We express gratitude to Patrick Burns, author of CLTK’s Greek lemmatization; Kyle P. Johnson of CLTK; Hope Ranker, author of the hexameter scansion module; Lisa Cerrato of the Perseus project; David Mimno; Rachel Greenstadt; Annie Lamar; Simeon Ehrlich; Stanford’s Center for Spatial and Textual Analysis (CESTA); and the <title rend="italic">Digital Humanities Quarterly</title> reviewers.</p>
            </div>
      </body>
      <back>
         <listBibl>
            <bibl xml:id="agdt" label="AGDT">Celano, Giuseppe G. A., Crane, Gregory, and Almas, Bridget. (2006–2021) <title rend="quotes">The Ancient Greek and Latin Dependency Treebank</title>. Available at: <ref target="https://perseusdl.github.io/treebank_data/">https://perseusdl.github.io/treebank_data/</ref>
            </bibl>
            <bibl xml:id="agwn" label="AGWN">Short, William Michael, Forte, Alexander, Tauber, James, Luraghi, Silvia, and Zanchi, Chiara. <title rend="quotes">Ancient Greek WordNet</title>. Available at: <ref target="https://greekwordnet.chs.harvard.edu">https://greekwordnet.chs.harvard.edu</ref>
            </bibl>
            <bibl xml:id="allen1988" label="Allen 1988">Allen, Robert F. (1988) <title rend="quotes">The Stylo-Statistical Method of Literary Analysis</title>, <title rend="italic">Computers and the Humanities</title>  22, pp. 1–10.
            </bibl>
            <bibl xml:id="allenhornblower2020" label="Allen-Hornblower 2020">Allen-Hornblower, Emily. (2020) <title rend="quotes">Revisiting the Apostrophes to Patroclus in <title rend="italic">Iliad</title>  16</title>. <title rend="italic">Donum natalicium</title>. Available at: <ref target="https://chs.harvard.edu/allen-hornblower-revisiting-the-apostrophes-to-patroclus-in-iliad-16/">https://chs.harvard.edu/allen-hornblower-revisiting-the-apostrophes-to-patroclus-in-iliad-16/</ref>
            </bibl>
            <bibl xml:id="bakker2013" label="Bakker 2013">Bakker, Egbert. (2013) <title rend="italic">The Meaning of Meat and the Structure of the Odyssey</title>. Cambridge: Cambridge University Press.
            </bibl>
            <bibl xml:id="bakker1991" label="Bakker and Fabbricotti 1991">Bakker, Egbert and Fabbricotti, F. (1991) <title>Peripheral and Nuclear Semantics in Homeric Diction: The Case of Dative Expression for <q>Spear</q></title>, <title rend="italic">Mnemosyne</title>  44, pp. 63–84.
            </bibl>
            <bibl xml:id="barnes1986" label="Barnes 1986">Barnes, Harry R. (1986) <title rend="quotes">The colometric structure of Homeric hexameter</title>, <title rend="italic">Greek, Roman and Byzantine Studies</title>  27, pp. 125–150.
            </bibl>
            <bibl xml:id="beekes1972" label="Beekes 1972">Beekes, R. S. P. (1972) <title>On the Structure of the Greek Hexameter.</title> <title rend="italic">Glotta</title>  50, pp. 1–10.
            </bibl>
            <bibl xml:id="beekes2010" label="Beekes 2010">Beekes, R. S. P. (2010) <title rend="italic">Etymological Dictionary of Greek. Volume One</title>. Leiden: Brill.
            </bibl>
            <bibl xml:id="bozzone2014" label="Bozzone 2014">Bozzone, C. (2014) <title rend="italic">Constructions: A New Approach to Formularity, Discourse, and Syntax in Homer</title>, Diss. University of California in Los Angeles.
            </bibl>
            <bibl xml:id="braun2018" label="Braun 2018">Braun, Steven. (2018) <title rend="quotes">Critically engaging with data visualization through an information literacy framework</title>, <title rend="italic">Digital Humanities Quarterly</title>  12(4). Available at: <ref target="http://www.digitalhumanities.org/dhq/vol/12/4/000402/000402.html">http://www.digitalhumanities.org/dhq/vol/12/4/000402/000402.html</ref>
            </bibl>
            <bibl xml:id="burns2018" label="Burns 2018">Burns, Patrick J. (2018) <title rend="italic">Backoff Lemmatization as a Philological Method</title>, In <title rend="italic">Digital Humanities</title>. Available at: <ref target="https://dh2018.adho.org/en/backoff-lemmatization-as-a-philological-method/">https://dh2018.adho.org/en/backoff-lemmatization-as-a-philological-method/</ref>
            </bibl>
            <bibl xml:id="burns2020" label="Burns 2020">Burns, Patrick J. (2020) <title rend="quotes">Ensemble lemmatization with the Classical Language Toolkit</title>, <title rend="italic">SSL</title>  58(1), pp. 157–76. Available at: <ref target="https://www.studiesaggilinguistici.it/ssl/article/view/273">https://www.studiesaggilinguistici.it/ssl/article/view/273</ref>
            </bibl>
            <bibl xml:id="chicagohomer" label="Chicago Homer">Chicago Homer, Eds. Ahuvia Kahane and Martin Mueller. Available at: <ref target="http://homer.library.northwestern.edu">http://homer.library.northwestern.edu</ref>
            </bibl>
            <bibl xml:id="cltk" label="CLTK">Johnson, Kyle P.; Burns, Patrick, Stewart, John, Cook, Todd, Besnier, Clément, and Mattingly, William J. B. (2014–2021) <title rend="quotes">CLTK: The Classical Language Toolkit</title>. Available at: <ref target="https://github.com/cltk/cltk">https://github.com/cltk/cltk</ref>
            </bibl>
            <bibl xml:id="conte1986" label="Conte 1986">Conte, Gian Biagio. (1986) <title rend="italic">The Rhetoric of Imitation: Genre and Poetic Memory in Virgil and Other Latin Poets</title>, Ithaca: Cornell University Press.
            </bibl>
            <bibl xml:id="dik1998" label="Dik 1998">Dik, Helma. (1998) <title rend="quotes">Words into Verse: The Localization of Some Metrical Word-Types in the Iambic Trimeter of Sophocles</title>, <title rend="italic">Illinois Classical Studies</title>  23, pp. 47–84.
            </bibl>
            <bibl xml:id="diogenes" label="Diogenes">Heslin, Peter. <title rend="italic">Diogenes Desktop</title>. Available at: <ref target="https://d.iogen.es/d/">https://d.iogen.es/d/</ref>
            </bibl>
            <bibl xml:id="edwards1991" label="Edwards 1991">Edwards, Mark W. (1991) <title rend="italic">The Iliad: A Commentary. Volume V: books 17–20</title>, Cambridge: Cambridge University Press.
            </bibl>
            <bibl xml:id="elmer2015" label="Elmer 2015">Elmer, David. (2015) <title rend="quotes">The <q>Narrow Road</q> and the Ethics of Language Use in the <title rend="italic">Iliad</title>  and the <title rend="italic">Odyssey</title></title>, <title rend="italic">Ramus</title>  44, pp. 155–83.
            </bibl>
            <bibl xml:id="forstall2012" label="Forstall and Scheirer 2012">Forstall, Christopher and Scheirer, Walter J. (2012) <title rend="quotes">Revealing hidden patterns in the meter of Homer’s <title rend="italic">Iliad</title></title>, In <title rend="italic">Proceedings of the Chicago Colloquium on Digital Humanities and Computer Science</title>.
            </bibl>
            <bibl xml:id="forstall2019" label="Forstall and Scheirer 2019">Forstall, Christopher and Scheirer, Walter J. (2019) <title rend="italic">Quantitative Intertextuality: Analyzing the Markers of Information Reuse</title>. Cham, CH: Springer.
            </bibl>
            <bibl xml:id="forstall2015" label="Forstall et al. 2015">Forstall, Christopher, Neil Coffee, Thomas Buck, Katherine Roache, and Sarah Jacobson. (2015) <title rend="quotes">Modeling the scholars: Detecting intertextuality through enhanced word-level n-gram matching</title>, <title rend="italic">Digital Scholarship in the Humanities</title>  30(4), pp. 503–15.
            </bibl>
            <bibl xml:id="frankel1926" label="Fränkel 1926">Fränkel, Hermann. (1926) <title rend="quotes" xml:lang="de">Der Kallimachische und der homerische Hexameter</title>, <title rend="italic" xml:lang="de">Göttinger Nachrichten</title>  2, pp. 197–229.
            </bibl>
            <bibl xml:id="giangrande1959" label="Giangrande 1959">Giangrande, Giuseppe. (1959) <title rend="italic">Conjectural Emendations</title>, <title rend="italic" xml:lang="de">Rheinisches Museum für Philologie</title>  102(4), pp. 365–76.
            </bibl>
            <bibl xml:id="giangrande1967" label="Giangrande 1967">Giangrande, Giuseppe. (1967) <title rend="quotes"><q>Arte Allusiva</q> and Alexandrian Epic Poetry</title>, <title rend="italic">Classical Quarterly</title>  17, pp. 85–97.
            </bibl>
            <bibl xml:id="hagel1994" label="Hagel 1994">Hagel, Stefan. (1994) <title rend="italic" xml:lang="de">Zu den Konstituenten des griechischen Hexameters</title>, <title rend="italic" xml:lang="de">Wiener Studien</title>  107/108, pp. 77–108.
            </bibl>
            <bibl xml:id="hagel2004" label="Hagel 2004">Hagel, Stefan. (2004) <title rend="italic">Tables Beyond O’Neill</title>, In Spaltenstein, F. and Bianchi, O. eds. <title rend="italic" xml:lang="fr">Autour de la Césure</title>, Bern: Peter Lang, pp. 135–215.
            </bibl>
            <bibl xml:id="hainsworth1968" label="Hainsworth 1968">Hainsworth, J. B. (1968) <title rend="italic">The Flexibility of the Homeric Formula</title>, Oxford: Clarendon Press.
            </bibl>
            <bibl xml:id="hodel" label="HoDeL">Zanchi, Chiara. (2021) <title rend="italic">Homeri Dependency Lexicon</title>. Available at: <ref target="https://hodel.unipv.it/hodel-res/">https://hodel.unipv.it/hodel-res/</ref>
            </bibl>
            <bibl xml:id="heath2001" label="Heath 2001">Heath, Malcolm. (2001) <title rend="quotes">Hephaestion</title> <title rend="italic">Suda On Line</title>, Translation, 2 March 2001. Available at: <ref target="http://www.cs.uky.edu/~raphael/sol/sol-entries/eta/659">http://www.cs.uky.edu/~raphael/sol/sol-entries/eta/659</ref>  (Accessed 27 December 2021).
            </bibl>
            <bibl xml:id="heslin2019" label="Heslin 2019">Heslin, Peter. (2019) <title rend="quotes">Lemmatizing Latin and Quantifying the Achilleid.</title> In Coffee, Niel, Chris Forstall, Lavinia Galli Milic, and Damien Nelis eds. <title rend="italic">Intertextuality in Flavian Epic Poetry</title>, Berlin: De Gruyter, pp. 389–408.
            </bibl>
            <bibl xml:id="hoover2013" label="Hoover 2013">Hoover, David L. (2013) <title rend="quotes">Quantitative Analysis and Literary Studies</title>. In Siemens, R. and Schreibman, S. eds. <title rend="italic">A Companion to Digital Literary Studies</title>, Oxford: Blackwell.
            </bibl>
            <bibl xml:id="janse2003" label="Janse 2003">Janse, Mark. (2003) <title rend="quotes">The Metrical Schemes of the Hexameter</title>. <title rend="italic">Mnemosyne</title>  56, pp. 343–48.
            </bibl>
            <bibl xml:id="kahane1994" label="Kahane 1994">Kahane, Ahuvia. (1994) <title rend="italic">The Interpretation of Order: A Study in the Poetics of Homeric Repetition</title>, Oxford: Clarendon Press.
            </bibl>
            <bibl xml:id="lsj" label="LSJ">Liddell, Henry George, Scott, Robert, Jones, Henry Stuart, and McKenzie, Roderick. (1996) <title rend="italic">A Greek-English Lexicon (9th edition)</title>, Oxford: Clarendon Press.
            </bibl>
            <bibl xml:id="martin1989" label="Martin 1989">Martin, Richard P. (1989) <title rend="italic">The Language of Heroes: Speech and Performance in the Iliad</title>, Ithaca: Cornell University Press.
            </bibl>
            <bibl xml:id="martin2000" label="Martin 2000">Martin, Richard P. (2000) <title rend="quotes">Synchronic aspects of Homeric performance: the evidence of the Hymn to Apollo</title>, In A. M. González de Tobia, ed. <title rend="italic" xml:lang="es">Una nueva visión de la cultura griega antigua hacia el fin del milenio</title>, La Plata, Argentina: Editorial de la Universidad Nacional de La Plata, pp. 403–32.
            </bibl>
            <bibl xml:id="mcdonough1966" label="McDonough 1966">McDonough, Jr., J. T. (1966) <title rend="italic">The Structural Metrics of the Iliad</title>. Diss. Columbia University.
            </bibl>
            <bibl xml:id="mclennan1977" label="McLennan 1977">Mclennan, G. R. (1977) <title rend="italic">Callimachus: Hymn to Zeus: Introduction and Commentary.</title> Rome: Ateneo and Bizzari.
            </bibl>
            <bibl xml:id="oneill1942" label="O’Neill 1942">O’Neill, Jr., Eugene. 1942. <title rend="quotes">The Localization of Metrical Word-Types in the Greek Hexameter: Homer, Hesiod, Alexandrians</title>, <title rend="italic">Yale Classical Studies</title>  8, pp. 102–76.
            </bibl>
            <bibl xml:id="packard1976" label="Packard 1976">Packard, David W. (1976) <title rend="quotes">Metrical and grammatical patterns in the Greek hexameter</title>, In Jones, A. and Churchhouse, R. F., eds, <title rend="italic">The Computer in Literary and Linguistic Studies. Proceedings of the Third International Symposium</title>, Cardiff: University of Wales Press, pp. 85–91.
            </bibl>
            <bibl xml:id="parry1928" label="Parry 1928">Parry, Milman. (1928) <title rend="italic" xml:lang="fr">L’Épithète traditionnelle dans Homère; Essai sur un problème de style homérique</title>, Paris: Société d’éditions <title rend="quotes">Les belles lettres</title>.</bibl>
            <bibl xml:id="parry1930" label="Parry 1930">Parry, Milman. (1930) <title rend="quotes">Studies in the Epic Technique of Oral Verse-Making. I. Homer and Homeric Style</title>, <title rend="italic">Harvard Studies in Classical Philology</title>  41, pp. 73–147.</bibl>
            <bibl xml:id="parry1971" label="Parry 1971">Parry, Milman. 1971. <title rend="italic">The Making of Homeric Verse: The Collected Papers of Milman Parry</title>. Ed. Adam Parry. Oxford: Clarendon Press.
            </bibl>
            <bibl xml:id="pavese2003" label="Pavese and Boschetti 2003">Pavese, Carlo Odo and Boschetti, Federico. (2003) <title rend="italic">A Complete Formulaic Analysis of the Homeric Poems</title>, Amsterdam: Adolf M. Hakkert.</bibl>
            <bibl xml:id="passarotti2020" label="Passarotti et al 2020">Passarotti, Marco, Mambrini, Francesco, Franzini, Greta, and Massimiliano Cecchini, Flavio. (2020) <title rend="quotes">Interlinking through lemmas. The lexical collection of the LiLa Knowledge, Base of linguistic resources for Latin</title>, <title rend="italic" xml:lang="it">Studi e Saggi Linguistici</title>  68, pp. 177–212.</bibl>
            <bibl xml:id="perseus" label="Perseus">Perseus Digital Library Project, Available at: <ref target="https://www.perseus.tufts.edu/hopper/">https://www.perseus.tufts.edu/hopper/</ref>
            </bibl>
            <bibl xml:id="perseusiliad" label="Perseus – Iliad">Homer. (1920) <title rend="italic">Homeri Opera in five volumes</title>. Oxford: Oxford University Press. Perseus Digital Library, Available at: <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0133">https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0133</ref>  (Accessed 14 April 2021).
            </bibl>
            <bibl xml:id="perseusodyssey" label="Perseus – Odyssey">Homer. (1920) <title rend="italic">Homeri Opera in five volumes</title>. Oxford: Oxford University Press. Perseus Digital Library, Available at: <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0135">https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0135</ref>  (Accessed 14 April 2021).</bibl>
            <bibl xml:id="perseustheogony" label="Perseus – Theogony">Hesiod. (1914) <title rend="italic">The Homeric Hymns and Homerica with English Translation, trans. H. G. Evelyn-White. Theogony</title>. Cambridge, MA: Harvard University Press. Available at: <ref target="https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0129">https://www.perseus.tufts.edu/hopper/text?doc=Perseus:text:1999.01.0129</ref>  (Accessed 14 April 2021).</bibl>
            <bibl xml:id="philologic" label="PhiloLogic">Dik, Helma. (2008–2021) <title rend="quotes">Perseus Project Texts Loaded under PhiloLogic</title>. Available at: <ref target="https://perseus.uchicago.edu">https://perseus.uchicago.edu</ref>
            </bibl>
            <bibl xml:id="porter1951" label="Porter 1951">Porter, Howard N. (1951) <title rend="quotes">The Early Greek Hexameter</title>. <title rend="italic">Yale Classical Studies</title>  12, pp. 3–63.</bibl>
            <bibl xml:id="ranker2012" label="Ranker 2012">Ranker, Hope. (2012) <title rend="quotes">Libraries and command-line tools for metrical analysis of epic Greek hexameter</title>, Available at: <ref target="https://github.com/epilanthanomai/hexameter">https://github.com/epilanthanomai/hexameter</ref>
            </bibl>
            <bibl xml:id="russo1963" label="Russo 1963">Russo, Joseph. (1963) <title rend="quotes">A Closer Look at Homeric Formulas</title>, <title rend="italic">TAPA</title>  94, pp. 235–47.
            </bibl>
            <bibl xml:id="sansom2021" label="Sansom 2021">Sansom, Stephen A. (2021) <title rend="quotes"><title rend="italic">Sedes</title>  as Style in Greek Hexameter: A Computational Approach</title>, <title rend="italic">TAPA</title>  151(2), pp. 439–67.
            </bibl>
            <bibl xml:id="schein1979" label="Schein 1979">Schein, Seth. (1979) <title rend="italic">The Iambic Trimeter in Aeschylus and Sophocles: A Study in Metrical Form</title>. Leiden: Brill.
            </bibl>
            <bibl xml:id="schein2015" label="Schein 2015">Schein, Seth. (2015) <title rend="italic">Homeric Epic and its Reception: Interpretative Essays</title>. Oxford: Oxford University Press.</bibl>
            <bibl xml:id="schumann2021" label="Schumann et al. 2021">Schumann, Anne-Kathrin, Beierle, Christoph, and Blößner, Norbert. (2021) <title rend="quotes">Using Finite-State Machines to Automatically Scan Classical Greek Hexameter</title>,  Available at: <ref target="https://arxiv.org/abs/2101.11437">https://arxiv.org/abs/2101.11437</ref>
            </bibl>
            <bibl xml:id="tate2010" label="Tate 2010">Tate, Aaron Phillip. (2010) <title rend="italic">Modularity and the Spectrum of Formularity in the Homeric Corpus</title>. Diss. Cornell University.
            </bibl>
            <bibl xml:id="tei" label="TEI">Text Encoding Initiative. <title rend="italic">P5 Guidelines</title>  4.2.1. Available at: <ref target="https://tei-c.org/Guidelines/P5/">https://tei-c.org/Guidelines/P5/</ref>
            </bibl>
            <bibl xml:id="tesserae" label="Tesserae">Tesserae, Available at: <ref target="https://tesserae.caset.buffalo.edu">https://tesserae.caset.buffalo.edu</ref>
            </bibl>
            <bibl xml:id="tlg" label="TLG">Thesaurus Linguae Graecae, Available at: <ref target="https://stephanus.tlg.uci.edu/">https://stephanus.tlg.uci.edu/</ref>
            </bibl>
            <bibl xml:id="tlgbetacode" label="TLGBetaCode">Thesaurus Linguae Graecae. <title rend="italic">The TLG Beta Code Manual</title>. Available at: <ref target="https://stephanus.tlg.uci.edu/encoding/BCM.pdf">https://stephanus.tlg.uci.edu/encoding/BCM.pdf</ref>
            </bibl>
            <bibl xml:id="vanophuijsen1987" label="van Ophuijsen 1987">van Ophuijsen, J. M. (1987) <title rend="italic">Hephaestion on Metre. A Translation and Commentary</title>, Leiden: Brill.
            </bibl>
            <bibl xml:id="visser1988" label="Visser 1988">Visser, E. (1988) <title rend="quotes">Formulae or Single Words? Towards a New Theory of Homeric Verse-making</title>, <title rend="italic" xml:lang="de">Würzburger Jahrbücher für die Altertumswissenschaft</title>  14: 21–31.
            </bibl>
            <bibl xml:id="westphal1866" label="Westphal 1866">Westphal, R. (1866) <title rend="italic" xml:lang="la">Scriptores Metrici Graeci. Vol. 1. Hephaestionis. De Metris Enchiridion et de Poemata Libellus cum Scholiis et Trichae Epitomis, Adjecta Procli Chrestomathia Grammatica</title>, Leipzig: Teubner.
            </bibl>
            <bibl xml:id="white1986" label="White 1986">White, Heather. (1986) <title rend="quotes">Greek Epic Language and Callimachus’ Hymn to Delos</title>, <title rend="italic" xml:lang="fr">L’Antiquité Classique</title> 55, pp. 316–22.
            </bibl>
            <bibl xml:id="winnington1963" label="Winnington-Ingram 1963">Winnington-Ingram, R. P. (1963) <title rend="italic" xml:lang="it">Aristidis Quintiliani de musica libri tres</title>, Leipzig: Teubner.
            </bibl>
            <bibl xml:id="zanchi2021" label="Zanchi 2021">Zanchi, Chiara. 2021. <title rend="quotes">The <title rend="italic">Homeric Dependency Lexicon</title>: What it is and how to use it</title>, <title rend="italic">Journal of Greek Linguistics</title>  21, pp. 263–97.
            </bibl>
         </listBibl>
      </back>
   </text>
</TEI>
