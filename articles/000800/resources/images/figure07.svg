<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg
  PUBLIC "-//W3C//DTD SVG 1.1//EN"
"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [
<!ENTITY Ytop  "0">
<!ENTITY Yhi  "30">
<!ENTITY Ylow "60">
<!ENTITY Ybot "100">

<!ENTITY Xctr  "100">

<!ENTITY Xfem   "96">
<!ENTITY X333  "144">
<!ENTITY Xchi  "192">
<!ENTITY Xadu   "48">

<!ENTITY Xmc  "208">
<!ENTITY Xfc  "160">
<!ENTITY Xma   "32">
<!ENTITY Xfa   "80">

<!ENTITY font-size "10px">
<!ENTITY box-height "12">
<!ENTITY baseline-y "-8.5">
<!ENTITY descenders-y "-8">

<!ENTITY i-font-size "3.5px">
<!ENTITY i-box-height "3.5">
<!ENTITY i-box-y "-1.5">
<!ENTITY bh2 "7">
<!ENTITY by2 "-3">
]>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="100%"
     height="100%"
     viewBox="0,0 250,120">
  
  <desc>Simple example of a lattice</desc>
  <style type="text/css">
    text {      
      font-family:  Baskerville, Palatino, Times Roman, serif; 
      font-size: &font-size;;   
    }
    text.intersection {      
      font-size: &i-font-size;;   
    }
    line {
      stroke-width: 0.3;
      stroke: black;
    }
    rect {
      stroke-width: 0.2;
      stroke: none;
    }
  </style>
  <defs>
    <g id="humans">
      <rect width="32" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-16" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">humans</text>
    </g>
    
    <g id="females">
      <rect width="31" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-17.5" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">females</text>
    </g>
    
    <g id="intersex">
      <rect width="30" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-15" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">3rd-sex</text>
    </g>
    
    <g id="children">
      <rect width="34" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-17" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">children</text>
    </g>
    <!--
    <g id="adults">
      <rect width="24" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-12" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">adults</text>
    </g>
    -->
    <g id="mc">
      <rect width="18" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-9" y="&descenders-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">boys</text>
    </g>
    <g id="fc">
      <rect width="17" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-10.5" y="&descenders-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">girls</text>
    </g>

    <g id="ma">
      <rect width="18" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-9" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">men</text>
    </g>
    <g id="fa">
      <rect width="28" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-14" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">women</text>
    </g>
    
    
    <g id="bottom">
      <rect width="4" height="&box-height;" fill-opacity="100%" color="red"
        fill="white" x="-2" y="&baseline-y;"/>  
      <text x="0" y="0" text-anchor="middle"
        alignment-baseline="central">&#x22A5;</text>
    </g>
    
    <g id="lattice">      
      <line x1="&Xctr;" y1="&Ytop;" x2="&Xfem;" y2="&Yhi;"/>
      <line x1="&Xctr;" y1="&Ytop;" x2="&X333;" y2="&Yhi;"/>
      <line x1="&Xctr;" y1="&Ytop;" x2="&Xchi;" y2="&Yhi;"/>
      <!-- <line x1="&Xctr;" y1="&Ytop;" x2="&Xadu;" y2="&Yhi;"/> -->

      <line x1="&Xfem;" y1="&Yhi;" x2="&Xfc;" y2="&Ylow;"/>
      <line x1="&Xfem;" y1="&Yhi;" x2="&Xfa;" y2="&Ylow;"/>
      
      <line x1="&X333;" y1="&Yhi;" x2="&Xctr;" y2="&Ybot;"/>
      
      <line x1="&Xchi;" y1="&Yhi;" x2="&Xmc;" y2="&Ylow;"/>
      <line x1="&Xchi;" y1="&Yhi;" x2="&Xfc;" y2="&Ylow;"/>

      <!-- <line x1="&Xadu;" y1="&Yhi;" x2="&Xma;" y2="&Ylow;"/> -->
      <!-- <line x1="&Xadu;" y1="&Yhi;" x2="&Xfa;" y2="&Ylow;"/> -->

      <line x1="&Xctr;" y1="&Ytop;" x2="&Xma;" y2="&Ylow;"/>
      
      <line x1="&Xmc;" y1="&Ylow;" x2="&Xctr;" y2="&Ybot;"/>
      <line x1="&Xfc;" y1="&Ylow;" x2="&Xctr;" y2="&Ybot;"/>
      <line x1="&Xma;" y1="&Ylow;" x2="&Xctr;" y2="&Ybot;"/>
      <line x1="&Xfa;" y1="&Ylow;" x2="&Xctr;" y2="&Ybot;"/>
      
      <use xlink:href="#humans" transform="translate(&Xctr;, &Ytop;)"/>
      <use xlink:href="#females" transform="translate(&Xfem;, &Yhi;)"/>
      <use xlink:href="#intersex" transform="translate(&X333;, &Yhi;)"/>

      <use xlink:href="#children" transform="translate(&Xchi;, &Yhi;)"/>
      <!-- <use xlink:href="#adults" transform="translate(&Xadu;, &Yhi;)"/> -->

      <use xlink:href="#mc" transform="translate(&Xmc;, &Ylow;)"/>
      <use xlink:href="#fc" transform="translate(&Xfc;, &Ylow;)"/>
      <use xlink:href="#ma" transform="translate(&Xma;, &Ylow;)"/>
      <use xlink:href="#fa" transform="translate(&Xfa;, &Ylow;)"/>      

      <use xlink:href="#bottom" transform="translate(&Xctr;, &Ybot;)"/>
    </g>
  </defs>
  <g>
     <use xlink:href="#lattice" transform="translate(5,15)"/>
  </g>
</svg>
